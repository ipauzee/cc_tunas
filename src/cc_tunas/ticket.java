/*
 * To change this template, choose Tools | Templates
 * and open the template in the editor.
 */

/*
 * ticket.java
 *
 * Created on Feb 15, 2010, 6:11:22 PM
 */

package cc_tunas;

import java.util.logging.Level;
import java.util.logging.Logger;
import javax.swing.*;
import javax.swing.JTextField;
import java.awt.*;
import java.awt.Event.*;
import java.sql.*;
import javax.sun.database.JavaConnector;
import java.sql.Connection;
import java.sql.DriverManager;
import java.sql.ResultSet;
import java.sql.SQLException;
import java.sql.Statement;

import java.io.*;
import java.io.File;
import java.io.FileInputStream;
import java.io.IOException;
import java.io.InputStream;
import java.util.Calendar;
import java.util.Iterator;
import java.util.List;
import java.util.ArrayList;
import java.net.*;
import java.text.SimpleDateFormat;

/**
 *
 * @author jsm
 */
public class ticket extends javax.swing.JFrame {

    public static int id;
    public static int contid;
    public static int coun;
    public static int no1;
    public static int ticno;
    public static int submit;
    public static boolean newtic=true;
    public static boolean caltic=false;
    public static String strnospNow="",condition="",strDepartment="";
    public static int ass = -1;
    private static boolean raction=false,raction1=false,raction2=false,raction3=false;
    public static boolean curGT;
    public static boolean prevGT;
    public static boolean curGTyes;
    public static boolean prevGTyes;
    public static boolean curGS;
    public static boolean prevGS;
    public static boolean curGSyes;
    public static boolean prevGSyes;
    public static boolean curSTORING;
    public static boolean prevSTORING;
    public static boolean curSTORINGyes;
    public static boolean prevSTORINGyes;
    public static boolean curOTHER;
    public static boolean prevOTHER;
    public static boolean curOTHERyes;
    public static boolean prevOTHERyes;
    String s;
    String opdt;
    String optm;
    public static String deptid,ReArea,TicType,AgreeId=null;
    private static String catid,catdetid,mailcc;
    String usrlvl;

    public static int sla;
    public static int statuss;
    private static int GT;
    private static int GS;
    private static int STORING;
    private static int OTHERS;
    private static int gtyes;
    private static int gsyes;
    private static int storingyes;
    private static int othersyes;
    private static String replacement;
    private static String rnarasi="";
    private static String rnarasi1="";
    private static String note;
//    private String note;
    /** Creates new form ticket */
    public ticket() {
        initComponents();
        setSize(1022,655);
//        tabdet.setEnabledAt(5, false);
        showDept();showReArea();
        showcategory();showCatDet();
        showType();
        optm();
        opdt();
        scpCcList.setVisible(false);
        scpCcList.setSize(360,260);
        id=-1;
        catdetailupadate=false;
        catfinalupadate=false;AgreeId=null;
//        submit=0;
//        klik2();
    }


     private History Hic;
    public ticket(History hic){
        this();
        this.Hic=hic;
    }
    private info inf;
    public ticket(info ifo){
        this();
        this.inf=ifo;
    }
    private Search_customer Src;
    public ticket(Search_customer src){
        this();
        this.Src=src;
    }
    public static ContactCenterTunas CCanj;
    public ticket(ContactCenterTunas ccanj){
        this();
        this.CCanj=ccanj;
    }
    private login Log;
    public ticket(login log){
        this();
        this.Log=log;
    }
    public static InBoundCall Inc;
    public ticket(InBoundCall inc){
        this();
        this.Inc=inc;
    }
    public static OutBound Obc;
    public ticket(OutBound obc){
        this();
        this.Obc=obc;
    }
    private Media Med;
    public ticket(Media med){
        this();
        this.Med=med;
    }
    private SMS Sms;
    public ticket(SMS sms){
        this();
        this.Sms=sms;
    }
    private EMail Mail;
    public ticket(EMail mail){
        this();
        this.Mail=mail;
    }
    private FAX1 Fax;
    public ticket(FAX1 fax){
        this();
        this.Fax=fax;
    }
    /** This method is called from within the constructor to
     * initialize the form.
     * WARNING: Do NOT modify this code. The content of this method is
     * always regenerated by the Form Editor.
     */
    @SuppressWarnings("unchecked")
    // <editor-fold defaultstate="collapsed" desc="Generated Code">//GEN-BEGIN:initComponents
    private void initComponents() {

        jScrollPane5 = new javax.swing.JScrollPane();
        jPanel7 = new javax.swing.JPanel();
        txtCcDept = new javax.swing.JTextField();
        btnCcDept = new javax.swing.JButton();
        scpCcList = new javax.swing.JScrollPane();
        jList1 = new javax.swing.JList();
        jPanel1 = new javax.swing.JPanel();
        jLabel1 = new javax.swing.JLabel();
        txtnotic = new javax.swing.JTextField();
        jLabel2 = new javax.swing.JLabel();
        jLabel3 = new javax.swing.JLabel();
        jLabel6 = new javax.swing.JLabel();
        cbcategory = new javax.swing.JComboBox();
        cbprior = new javax.swing.JComboBox();
        cbdept = new javax.swing.JComboBox();
        jScrollPane2 = new javax.swing.JScrollPane();
        txtques = new javax.swing.JTextArea();
        jLabel4 = new javax.swing.JLabel();
        jLabel5 = new javax.swing.JLabel();
        jScrollPane3 = new javax.swing.JScrollPane();
        txtinfo = new javax.swing.JTextArea();
        btnreset = new javax.swing.JButton();
        tabdet = new javax.swing.JTabbedPane();
        jPanel4 = new javax.swing.JPanel();
        jLabel22 = new javax.swing.JLabel();
        jLabel23 = new javax.swing.JLabel();
        txtcuscod = new javax.swing.JTextField();
        txtcusnam = new javax.swing.JTextField();
        jLabel7 = new javax.swing.JLabel();
        jLabel8 = new javax.swing.JLabel();
        txtcusfax = new javax.swing.JTextField();
        jLabel10 = new javax.swing.JLabel();
        txtcuspho = new javax.swing.JTextField();
        jLabel21 = new javax.swing.JLabel();
        jScrollPane6 = new javax.swing.JScrollPane();
        txtcustadd = new javax.swing.JTextArea();
        jLabel9 = new javax.swing.JLabel();
        txtcuspic = new javax.swing.JTextField();
        jLabel24 = new javax.swing.JLabel();
        txtcusconst = new javax.swing.JTextField();
        jLabel25 = new javax.swing.JLabel();
        txtcusconend = new javax.swing.JTextField();
        btnsrchcus = new javax.swing.JButton();
        jLabel31 = new javax.swing.JLabel();
        txtcusconst1 = new javax.swing.JTextField();
        jScrollPane12 = new javax.swing.JScrollPane();
        txtPicadd = new javax.swing.JTextArea();
        txtpicPho = new javax.swing.JTextField();
        jScrollPane13 = new javax.swing.JScrollPane();
        txtcustNote = new javax.swing.JTextArea();
        jLabel75 = new javax.swing.JLabel();
        txtcusemail = new javax.swing.JTextField();
        jPanel10 = new javax.swing.JPanel();
        jLabel64 = new javax.swing.JLabel();
        jLabel65 = new javax.swing.JLabel();
        jLabel66 = new javax.swing.JLabel();
        txtAgr4 = new javax.swing.JTextField();
        txtAgr3 = new javax.swing.JTextField();
        txtAgr2 = new javax.swing.JTextField();
        jLabel67 = new javax.swing.JLabel();
        txtAgr1 = new javax.swing.JTextField();
        jLabel68 = new javax.swing.JLabel();
        txtAgr5 = new javax.swing.JTextField();
        jLabel69 = new javax.swing.JLabel();
        txtAgr6 = new javax.swing.JTextField();
        txtcontract = new javax.swing.JTextField();
        jLabel70 = new javax.swing.JLabel();
        jLabel71 = new javax.swing.JLabel();
        jLabel72 = new javax.swing.JLabel();
        txtAgr9 = new javax.swing.JTextField();
        txtAgr8 = new javax.swing.JTextField();
        txtAgr7 = new javax.swing.JTextField();
        jLabel73 = new javax.swing.JLabel();
        txtAgr10 = new javax.swing.JTextField();
        jLabel74 = new javax.swing.JLabel();
        txtAgr11 = new javax.swing.JTextField();
        jPanel5 = new javax.swing.JPanel();
        jLabel13 = new javax.swing.JLabel();
        jLabel14 = new javax.swing.JLabel();
        jLabel20 = new javax.swing.JLabel();
        txtcsomail = new javax.swing.JTextField();
        txtcsopho = new javax.swing.JTextField();
        txtcso = new javax.swing.JTextField();
        jLabel26 = new javax.swing.JLabel();
        txtCro1 = new javax.swing.JTextField();
        jLabel59 = new javax.swing.JLabel();
        txtcsopho1 = new javax.swing.JTextField();
        jLabel60 = new javax.swing.JLabel();
        txtcsobranch = new javax.swing.JTextField();
        jPanel11 = new javax.swing.JPanel();
        jLabel15 = new javax.swing.JLabel();
        cbnoplat = new javax.swing.JComboBox();
        jLabel16 = new javax.swing.JLabel();
        txtUnit4 = new javax.swing.JTextField();
        jLabel17 = new javax.swing.JLabel();
        txtUnit7 = new javax.swing.JTextField();
        jLabel28 = new javax.swing.JLabel();
        txtUnit3 = new javax.swing.JTextField();
        jLabel29 = new javax.swing.JLabel();
        txtUnit6 = new javax.swing.JTextField();
        jLabel61 = new javax.swing.JLabel();
        txtUnit1 = new javax.swing.JTextField();
        jLabel62 = new javax.swing.JLabel();
        txtUnit2 = new javax.swing.JTextField();
        txtUnit5 = new javax.swing.JTextField();
        jLabel63 = new javax.swing.JLabel();
        txtUnit8 = new javax.swing.JTextField();
        jPanel12 = new javax.swing.JPanel();
        jLabel18 = new javax.swing.JLabel();
        jLabel19 = new javax.swing.JLabel();
        txtdrinm = new javax.swing.JTextField();
        cbdriver = new javax.swing.JComboBox();
        jLabel30 = new javax.swing.JLabel();
        txtdripho1 = new javax.swing.JTextField();
        txtDriCode = new javax.swing.JTextField();
        btncall = new javax.swing.JButton();
        btnfax = new javax.swing.JButton();
        btnmail = new javax.swing.JButton();
        btnsms = new javax.swing.JButton();
        jLabel54 = new javax.swing.JLabel();
        jLabel56 = new javax.swing.JLabel();
        cbTicketType = new javax.swing.JComboBox();
        jLabel57 = new javax.swing.JLabel();
        jLabel55 = new javax.swing.JLabel();
        cbcatdetail = new javax.swing.JComboBox();
        cbArea = new javax.swing.JComboBox();
        jLabel58 = new javax.swing.JLabel();
        txtCaseArea = new javax.swing.JTextField();
        jPanel6 = new javax.swing.JPanel();
        btncreate = new javax.swing.JButton();
        btnhist = new javax.swing.JButton();
        cksubmit = new javax.swing.JCheckBox();
        btnhist1 = new javax.swing.JButton();
        jPanel8 = new javax.swing.JPanel();
        btncanc = new javax.swing.JButton();
        jPanel9 = new javax.swing.JPanel();
        btnclosed = new javax.swing.JButton();
        btncanc1 = new javax.swing.JButton();
        jPanel2 = new javax.swing.JPanel();
        ckGT = new javax.swing.JCheckBox();
        jLabel49 = new javax.swing.JLabel();
        jLabel50 = new javax.swing.JLabel();
        ckGS = new javax.swing.JCheckBox();
        ckSTORING = new javax.swing.JCheckBox();
        ckOTHERS = new javax.swing.JCheckBox();
        ckgtyes = new javax.swing.JCheckBox();
        ckgsyes = new javax.swing.JCheckBox();
        ckstoringyes = new javax.swing.JCheckBox();
        ckothersyes = new javax.swing.JCheckBox();
        jScrollPane4 = new javax.swing.JScrollPane();
        txtlastnote = new javax.swing.JTextArea();
        jLabel51 = new javax.swing.JLabel();
        jScrollPane1 = new javax.swing.JScrollPane();
        txtdetails = new javax.swing.JTextArea();
        jLabel52 = new javax.swing.JLabel();
        jLabel53 = new javax.swing.JLabel();
        jScrollPane11 = new javax.swing.JScrollPane();
        txtnote = new javax.swing.JTextArea();
        hiddenTab = new javax.swing.JTabbedPane();
        pnluser = new javax.swing.JPanel();
        jLabel11 = new javax.swing.JLabel();
        txtusr = new javax.swing.JTextField();
        jLabel12 = new javax.swing.JLabel();
        txtusrpho = new javax.swing.JTextField();
        jLabel27 = new javax.swing.JLabel();
        jScrollPane7 = new javax.swing.JScrollPane();
        txtusraddr = new javax.swing.JTextArea();
        jScrollPane8 = new javax.swing.JScrollPane();
        pnlRep = new javax.swing.JPanel();
        jLabel32 = new javax.swing.JLabel();
        jLabel33 = new javax.swing.JLabel();
        jLabel34 = new javax.swing.JLabel();
        jLabel35 = new javax.swing.JLabel();
        jLabel36 = new javax.swing.JLabel();
        jLabel37 = new javax.swing.JLabel();
        jLabel38 = new javax.swing.JLabel();
        jLabel39 = new javax.swing.JLabel();
        jLabel40 = new javax.swing.JLabel();
        jLabel41 = new javax.swing.JLabel();
        jLabel42 = new javax.swing.JLabel();
        jLabel43 = new javax.swing.JLabel();
        jLabel44 = new javax.swing.JLabel();
        jLabel45 = new javax.swing.JLabel();
        jLabel46 = new javax.swing.JLabel();
        jLabel47 = new javax.swing.JLabel();
        jLabel48 = new javax.swing.JLabel();
        txtrdridpt = new javax.swing.JTextField();
        txtrcso = new javax.swing.JTextField();
        txtroprdpt = new javax.swing.JTextField();
        txtrcusnm = new javax.swing.JTextField();
        txtrcontact = new javax.swing.JTextField();
        txtrphoneno = new javax.swing.JTextField();
        jScrollPane9 = new javax.swing.JScrollPane();
        txtrmemo = new javax.swing.JTextArea();
        txtroricarplate = new javax.swing.JTextField();
        txtrrepcarpalte = new javax.swing.JTextField();
        dtruntil = new com.toedter.calendar.JDateChooser();
        dtrdeliver = new com.toedter.calendar.JDateChooser();
        dtrstart = new com.toedter.calendar.JDateChooser();
        jScrollPane10 = new javax.swing.JScrollPane();
        txtraddr = new javax.swing.JTextArea();
        txtrdripho = new javax.swing.JTextField();
        cbroristat = new javax.swing.JComboBox();
        cbrrepstat = new javax.swing.JComboBox();
        txtrdelivertime = new javax.swing.JFormattedTextField();

        setDefaultCloseOperation(javax.swing.WindowConstants.DO_NOTHING_ON_CLOSE);
        setTitle("Ticket");
        setBackground(new java.awt.Color(204, 204, 255));
        setCursor(new java.awt.Cursor(java.awt.Cursor.DEFAULT_CURSOR));
        setResizable(false);
        addWindowListener(new java.awt.event.WindowAdapter() {
            public void windowClosed(java.awt.event.WindowEvent evt) {
                formWindowClosed(evt);
            }
        });
        getContentPane().setLayout(null);

        jPanel7.setBackground(new java.awt.Color(255, 255, 255));
        jPanel7.setLayout(null);

        txtCcDept.setEditable(false);
        txtCcDept.setFont(txtCcDept.getFont().deriveFont((float)11));
        txtCcDept.setText("<None>");
        txtCcDept.setFocusable(false);
        txtCcDept.setRequestFocusEnabled(false);
        jPanel7.add(txtCcDept);
        txtCcDept.setBounds(130, 170, 330, 24);

        btnCcDept.setFont(btnCcDept.getFont().deriveFont(btnCcDept.getFont().getStyle() | java.awt.Font.BOLD, 10));
        btnCcDept.setText("...");
        btnCcDept.setIconTextGap(0);
        btnCcDept.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                btnCcDeptActionPerformed(evt);
            }
        });
        jPanel7.add(btnCcDept);
        btnCcDept.setBounds(460, 170, 30, 24);

        jList1.setFont(jList1.getFont().deriveFont((float)11));
        jList1.setModel(new javax.swing.AbstractListModel() {
            String[] strings = { "Item 1", "Item 2", "Item 3", "Item 4", "Item 5" };
            public int getSize() { return strings.length; }
            public Object getElementAt(int i) { return strings[i]; }
        });
        jList1.addMouseListener(new java.awt.event.MouseAdapter() {
            public void mouseReleased(java.awt.event.MouseEvent evt) {
                jList1MouseReleased(evt);
            }
        });
        scpCcList.setViewportView(jList1);

        jPanel7.add(scpCcList);
        scpCcList.setBounds(130, 190, 360, 20);

        jPanel1.setBackground(new java.awt.Color(255, 255, 255));
        jPanel1.setBorder(javax.swing.BorderFactory.createTitledBorder(null, "<<OPEN NEW TICKET>>", javax.swing.border.TitledBorder.DEFAULT_JUSTIFICATION, javax.swing.border.TitledBorder.DEFAULT_POSITION, new java.awt.Font("Tahoma", 1, 10))); // NOI18N
        jPanel1.setFont(jPanel1.getFont().deriveFont((float)11));
        jPanel1.setLayout(null);

        jLabel1.setFont(jLabel1.getFont().deriveFont((float)11));
        jLabel1.setHorizontalAlignment(javax.swing.SwingConstants.CENTER);
        jLabel1.setText("Ticket No. :"); // NOI18N
        jPanel1.add(jLabel1);
        jLabel1.setBounds(220, 20, 100, 20);

        txtnotic.setEditable(false);
        txtnotic.setFont(txtnotic.getFont().deriveFont(txtnotic.getFont().getStyle() | java.awt.Font.BOLD, 11));
        txtnotic.setEnabled(false);
        jPanel1.add(txtnotic);
        txtnotic.setBounds(320, 20, 160, 24);

        jLabel2.setFont(jLabel2.getFont().deriveFont((float)11));
        jLabel2.setText("Category :"); // NOI18N
        jPanel1.add(jLabel2);
        jLabel2.setBounds(20, 120, 100, 20);

        jLabel3.setFont(jLabel3.getFont().deriveFont((float)11));
        jLabel3.setText("Case Area :"); // NOI18N
        jPanel1.add(jLabel3);
        jLabel3.setBounds(20, 40, 100, 20);

        jLabel6.setFont(jLabel6.getFont().deriveFont((float)11));
        jLabel6.setText("Represent. Area:"); // NOI18N
        jPanel1.add(jLabel6);
        jLabel6.setBounds(20, 80, 100, 20);

        cbcategory.setFont(cbcategory.getFont().deriveFont((float)11));
        cbcategory.setModel(new javax.swing.DefaultComboBoxModel(new String[] { "Item 1", "Item 2", "Item 3", "Item 4" }));
        cbcategory.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                cbcategoryActionPerformed(evt);
            }
        });
        jPanel1.add(cbcategory);
        cbcategory.setBounds(120, 120, 360, 24);

        cbprior.setFont(cbprior.getFont().deriveFont(cbprior.getFont().getStyle() | java.awt.Font.BOLD, 11));
        cbprior.setModel(new javax.swing.DefaultComboBoxModel(new String[] { "NORMAL", "URGENT" }));
        jPanel1.add(cbprior);
        cbprior.setBounds(120, 20, 100, 24);

        cbdept.setFont(cbdept.getFont().deriveFont((float)11));
        cbdept.setModel(new javax.swing.DefaultComboBoxModel(new String[] { "Item 1", "Item 2", "Item 3", "Item 4" }));
        cbdept.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                cbdeptActionPerformed(evt);
            }
        });
        jPanel1.add(cbdept);
        cbdept.setBounds(120, 60, 300, 24);

        txtques.setEditable(false);
        txtques.setColumns(20);
        txtques.setFont(txtques.getFont().deriveFont((float)11));
        txtques.setLineWrap(true);
        txtques.setRows(5);
        txtques.addMouseListener(new java.awt.event.MouseAdapter() {
            public void mouseClicked(java.awt.event.MouseEvent evt) {
                txtquesMouseClicked(evt);
            }
        });
        jScrollPane2.setViewportView(txtques);

        jPanel1.add(jScrollPane2);
        jScrollPane2.setBounds(120, 500, 380, 40);

        jLabel4.setFont(jLabel4.getFont().deriveFont((float)11));
        jLabel4.setText("Question :"); // NOI18N
        jPanel1.add(jLabel4);
        jLabel4.setBounds(20, 490, 100, 20);

        jLabel5.setFont(jLabel5.getFont().deriveFont((float)11));
        jLabel5.setText("Info :"); // NOI18N
        jPanel1.add(jLabel5);
        jLabel5.setBounds(20, 540, 100, 20);

        txtinfo.setEditable(false);
        txtinfo.setColumns(20);
        txtinfo.setFont(txtinfo.getFont().deriveFont((float)11));
        txtinfo.setLineWrap(true);
        txtinfo.setRows(5);
        jScrollPane3.setViewportView(txtinfo);

        jPanel1.add(jScrollPane3);
        jScrollPane3.setBounds(120, 540, 380, 40);

        btnreset.setFont(btnreset.getFont().deriveFont(btnreset.getFont().getStyle() | java.awt.Font.BOLD, 10));
        btnreset.setText("Reset");
        btnreset.setIconTextGap(0);
        btnreset.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                btnresetActionPerformed(evt);
            }
        });
        jPanel1.add(btnreset);
        btnreset.setBounds(420, 60, 60, 24);

        tabdet.setFont(tabdet.getFont().deriveFont(tabdet.getFont().getStyle() | java.awt.Font.BOLD, 10));

        jPanel4.setBackground(new java.awt.Color(255, 255, 255));
        jPanel4.setBorder(javax.swing.BorderFactory.createTitledBorder(""));
        jPanel4.setLayout(null);

        jLabel22.setBackground(new java.awt.Color(102, 102, 255));
        jLabel22.setFont(jLabel22.getFont().deriveFont((float)11));
        jLabel22.setText("Contract No."); // NOI18N
        jPanel4.add(jLabel22);
        jLabel22.setBounds(10, 10, 100, 0);

        jLabel23.setBackground(new java.awt.Color(102, 102, 255));
        jLabel23.setFont(jLabel23.getFont().deriveFont((float)11));
        jLabel23.setText("Cust. Code :"); // NOI18N
        jPanel4.add(jLabel23);
        jLabel23.setBounds(10, 70, 100, 20);

        txtcuscod.setFont(txtcuscod.getFont().deriveFont((float)11));
        jPanel4.add(txtcuscod);
        txtcuscod.setBounds(110, 70, 360, 24);

        txtcusnam.setFont(txtcusnam.getFont().deriveFont((float)11));
        txtcusnam.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                txtcusnamActionPerformed(evt);
            }
        });
        jPanel4.add(txtcusnam);
        txtcusnam.setBounds(110, 10, 360, 24);

        jLabel7.setBackground(new java.awt.Color(102, 102, 255));
        jLabel7.setFont(jLabel7.getFont().deriveFont((float)11));
        jLabel7.setText("Cust. Name :"); // NOI18N
        jPanel4.add(jLabel7);
        jLabel7.setBounds(10, 10, 100, 20);

        jLabel8.setBackground(new java.awt.Color(102, 102, 255));
        jLabel8.setFont(jLabel8.getFont().deriveFont((float)11));
        jLabel8.setHorizontalAlignment(javax.swing.SwingConstants.CENTER);
        jLabel8.setText("Cust.Fax :"); // NOI18N
        jPanel4.add(jLabel8);
        jLabel8.setBounds(240, 110, 100, 0);

        txtcusfax.setFont(txtcusfax.getFont().deriveFont((float)11));
        jPanel4.add(txtcusfax);
        txtcusfax.setBounds(340, 110, 130, 0);

        jLabel10.setBackground(new java.awt.Color(102, 102, 255));
        jLabel10.setFont(jLabel10.getFont().deriveFont((float)11));
        jLabel10.setText("Cust. Phone :"); // NOI18N
        jPanel4.add(jLabel10);
        jLabel10.setBounds(10, 90, 100, 20);

        txtcuspho.setFont(txtcuspho.getFont().deriveFont((float)11));
        jPanel4.add(txtcuspho);
        txtcuspho.setBounds(110, 90, 360, 24);

        jLabel21.setBackground(new java.awt.Color(102, 102, 255));
        jLabel21.setFont(jLabel21.getFont().deriveFont((float)11));
        jLabel21.setText("Cust. address :"); // NOI18N
        jPanel4.add(jLabel21);
        jLabel21.setBounds(10, 30, 100, 20);

        txtcustadd.setColumns(20);
        txtcustadd.setFont(txtcustadd.getFont().deriveFont((float)11));
        txtcustadd.setLineWrap(true);
        txtcustadd.setRows(5);
        jScrollPane6.setViewportView(txtcustadd);

        jPanel4.add(jScrollPane6);
        jScrollPane6.setBounds(110, 30, 360, 40);

        jLabel9.setBackground(new java.awt.Color(102, 102, 255));
        jLabel9.setFont(jLabel9.getFont().deriveFont((float)11));
        jLabel9.setText("User Name :"); // NOI18N
        jPanel4.add(jLabel9);
        jLabel9.setBounds(10, 130, 100, 20);

        txtcuspic.setFont(txtcuspic.getFont().deriveFont((float)11));
        txtcuspic.setAutoscrolls(false);
        jPanel4.add(txtcuspic);
        txtcuspic.setBounds(110, 130, 360, 24);

        jLabel24.setBackground(new java.awt.Color(102, 102, 255));
        jLabel24.setFont(jLabel24.getFont().deriveFont((float)11));
        jLabel24.setText("User Address :"); // NOI18N
        jPanel4.add(jLabel24);
        jLabel24.setBounds(10, 150, 100, 20);

        txtcusconst.setFont(txtcusconst.getFont().deriveFont((float)11));
        jPanel4.add(txtcusconst);
        txtcusconst.setBounds(110, 170, 130, 0);

        jLabel25.setBackground(new java.awt.Color(102, 102, 255));
        jLabel25.setFont(jLabel25.getFont().deriveFont((float)11));
        jLabel25.setText("Note :"); // NOI18N
        jLabel25.setHorizontalTextPosition(javax.swing.SwingConstants.CENTER);
        jPanel4.add(jLabel25);
        jLabel25.setBounds(10, 210, 100, 20);

        txtcusconend.setFont(txtcusconend.getFont().deriveFont((float)11));
        jPanel4.add(txtcusconend);
        txtcusconend.setBounds(340, 170, 130, 0);

        btnsrchcus.setFont(new java.awt.Font("Calibri", 0, 11)); // NOI18N
        btnsrchcus.setIcon(new javax.swing.ImageIcon(getClass().getResource("/icon/1245117595_001_37.png"))); // NOI18N
        btnsrchcus.addMouseListener(new java.awt.event.MouseAdapter() {
            public void mouseClicked(java.awt.event.MouseEvent evt) {
                btnsrchcusMouseClicked(evt);
            }
        });
        btnsrchcus.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                btnsrchcusActionPerformed(evt);
            }
        });
        jPanel4.add(btnsrchcus);
        btnsrchcus.setBounds(450, 210, 20, 20);

        jLabel31.setBackground(new java.awt.Color(102, 102, 255));
        jLabel31.setFont(jLabel31.getFont().deriveFont((float)11));
        jLabel31.setText("User Phone :"); // NOI18N
        jPanel4.add(jLabel31);
        jLabel31.setBounds(10, 190, 100, 20);

        txtcusconst1.setFont(txtcusconst1.getFont().deriveFont((float)11));
        jPanel4.add(txtcusconst1);
        txtcusconst1.setBounds(110, 190, 130, 0);

        txtPicadd.setColumns(20);
        txtPicadd.setFont(txtPicadd.getFont().deriveFont((float)11));
        txtPicadd.setLineWrap(true);
        txtPicadd.setRows(5);
        jScrollPane12.setViewportView(txtPicadd);

        jPanel4.add(jScrollPane12);
        jScrollPane12.setBounds(110, 150, 360, 40);

        txtpicPho.setFont(txtpicPho.getFont().deriveFont((float)11));
        jPanel4.add(txtpicPho);
        txtpicPho.setBounds(110, 190, 360, 24);

        txtcustNote.setColumns(20);
        txtcustNote.setFont(txtcustNote.getFont().deriveFont((float)11));
        txtcustNote.setLineWrap(true);
        txtcustNote.setRows(5);
        jScrollPane13.setViewportView(txtcustNote);

        jPanel4.add(jScrollPane13);
        jScrollPane13.setBounds(110, 210, 340, 40);

        jLabel75.setBackground(new java.awt.Color(102, 102, 255));
        jLabel75.setFont(jLabel75.getFont().deriveFont((float)11));
        jLabel75.setText("Cust. Email :"); // NOI18N
        jPanel4.add(jLabel75);
        jLabel75.setBounds(10, 110, 100, 20);

        txtcusemail.setFont(txtcusemail.getFont().deriveFont((float)11));
        jPanel4.add(txtcusemail);
        txtcusemail.setBounds(110, 110, 360, 24);

        tabdet.addTab("Customer", jPanel4);

        jPanel10.setBackground(new java.awt.Color(255, 255, 255));
        jPanel10.setBorder(javax.swing.BorderFactory.createTitledBorder(""));
        jPanel10.setLayout(null);

        jLabel64.setFont(jLabel64.getFont().deriveFont((float)11));
        jLabel64.setText("Seq No :"); // NOI18N
        jPanel10.add(jLabel64);
        jLabel64.setBounds(10, 30, 100, 20);

        jLabel65.setFont(jLabel65.getFont().deriveFont((float)11));
        jLabel65.setText("Contract No :"); // NOI18N
        jPanel10.add(jLabel65);
        jLabel65.setBounds(10, 50, 100, 20);

        jLabel66.setFont(jLabel66.getFont().deriveFont((float)11));
        jLabel66.setText("Agreement Type :"); // NOI18N
        jPanel10.add(jLabel66);
        jLabel66.setBounds(10, 70, 100, 20);

        txtAgr4.setFont(txtAgr4.getFont().deriveFont((float)11));
        txtAgr4.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                txtAgr4ActionPerformed(evt);
            }
        });
        jPanel10.add(txtAgr4);
        txtAgr4.setBounds(110, 70, 360, 24);

        txtAgr3.setFont(txtAgr3.getFont().deriveFont((float)11));
        jPanel10.add(txtAgr3);
        txtAgr3.setBounds(110, 50, 360, 24);

        txtAgr2.setFont(txtAgr2.getFont().deriveFont((float)11));
        txtAgr2.addCaretListener(new javax.swing.event.CaretListener() {
            public void caretUpdate(javax.swing.event.CaretEvent evt) {
                txtAgr2CaretUpdate(evt);
            }
        });
        txtAgr2.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                txtAgr2ActionPerformed(evt);
            }
        });
        jPanel10.add(txtAgr2);
        txtAgr2.setBounds(110, 30, 360, 24);

        jLabel67.setFont(jLabel67.getFont().deriveFont((float)11));
        jLabel67.setText("Agreement No"); // NOI18N
        jPanel10.add(jLabel67);
        jLabel67.setBounds(10, 10, 100, 20);

        txtAgr1.setFont(txtAgr1.getFont().deriveFont((float)11));
        txtAgr1.addCaretListener(new javax.swing.event.CaretListener() {
            public void caretUpdate(javax.swing.event.CaretEvent evt) {
                txtAgr1CaretUpdate(evt);
            }
        });
        txtAgr1.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                txtAgr1ActionPerformed(evt);
            }
        });
        jPanel10.add(txtAgr1);
        txtAgr1.setBounds(110, 10, 360, 24);

        jLabel68.setFont(jLabel68.getFont().deriveFont((float)11));
        jLabel68.setText("Unit Code:"); // NOI18N
        jPanel10.add(jLabel68);
        jLabel68.setBounds(10, 90, 100, 20);

        txtAgr5.setFont(txtAgr5.getFont().deriveFont((float)11));
        txtAgr5.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                txtAgr5ActionPerformed(evt);
            }
        });
        jPanel10.add(txtAgr5);
        txtAgr5.setBounds(110, 90, 360, 24);

        jLabel69.setFont(jLabel69.getFont().deriveFont((float)11));
        jLabel69.setText("Tenor :"); // NOI18N
        jPanel10.add(jLabel69);
        jLabel69.setBounds(10, 110, 100, 20);

        txtAgr6.setFont(txtAgr6.getFont().deriveFont((float)11));
        jPanel10.add(txtAgr6);
        txtAgr6.setBounds(110, 110, 360, 24);

        txtcontract.setFont(txtcontract.getFont().deriveFont((float)11));
        txtcontract.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                txtcontractActionPerformed(evt);
            }
        });
        jPanel10.add(txtcontract);
        txtcontract.setBounds(110, 10, 360, 0);

        jLabel70.setFont(jLabel70.getFont().deriveFont((float)11));
        jLabel70.setText("Awal kontrak :"); // NOI18N
        jPanel10.add(jLabel70);
        jLabel70.setBounds(10, 130, 100, 20);

        jLabel71.setFont(jLabel71.getFont().deriveFont((float)11));
        jLabel71.setText("Akhir kontrak :"); // NOI18N
        jPanel10.add(jLabel71);
        jLabel71.setBounds(10, 150, 100, 20);

        jLabel72.setFont(jLabel72.getFont().deriveFont((float)11));
        jLabel72.setText("Unit status :"); // NOI18N
        jPanel10.add(jLabel72);
        jLabel72.setBounds(10, 170, 100, 20);

        txtAgr9.setFont(txtAgr9.getFont().deriveFont((float)11));
        txtAgr9.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                txtAgr9ActionPerformed(evt);
            }
        });
        jPanel10.add(txtAgr9);
        txtAgr9.setBounds(110, 170, 360, 24);

        txtAgr8.setFont(txtAgr8.getFont().deriveFont((float)11));
        jPanel10.add(txtAgr8);
        txtAgr8.setBounds(110, 150, 360, 24);

        txtAgr7.setFont(txtAgr7.getFont().deriveFont((float)11));
        txtAgr7.addCaretListener(new javax.swing.event.CaretListener() {
            public void caretUpdate(javax.swing.event.CaretEvent evt) {
                txtAgr7CaretUpdate(evt);
            }
        });
        txtAgr7.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                txtAgr7ActionPerformed(evt);
            }
        });
        jPanel10.add(txtAgr7);
        txtAgr7.setBounds(110, 130, 360, 24);

        jLabel73.setFont(jLabel73.getFont().deriveFont((float)11));
        jLabel73.setText("Customer Code :"); // NOI18N
        jPanel10.add(jLabel73);
        jLabel73.setBounds(10, 190, 100, 20);

        txtAgr10.setFont(txtAgr10.getFont().deriveFont((float)11));
        jPanel10.add(txtAgr10);
        txtAgr10.setBounds(110, 190, 360, 24);

        jLabel74.setFont(jLabel74.getFont().deriveFont((float)11));
        jLabel74.setText("Driver Code :"); // NOI18N
        jPanel10.add(jLabel74);
        jLabel74.setBounds(10, 210, 100, 20);

        txtAgr11.setFont(txtAgr11.getFont().deriveFont((float)11));
        jPanel10.add(txtAgr11);
        txtAgr11.setBounds(110, 210, 360, 24);

        tabdet.addTab("Agreement", jPanel10);

        jPanel5.setBackground(new java.awt.Color(255, 255, 255));
        jPanel5.setBorder(javax.swing.BorderFactory.createTitledBorder(""));
        jPanel5.setLayout(null);

        jLabel13.setFont(jLabel13.getFont().deriveFont((float)11));
        jLabel13.setText("CRO Name :"); // NOI18N
        jPanel5.add(jLabel13);
        jLabel13.setBounds(10, 30, 100, 20);

        jLabel14.setFont(jLabel14.getFont().deriveFont((float)11));
        jLabel14.setText("CRO Phone :"); // NOI18N
        jPanel5.add(jLabel14);
        jLabel14.setBounds(10, 50, 100, 20);

        jLabel20.setFont(jLabel20.getFont().deriveFont((float)11));
        jLabel20.setText("CRO email :"); // NOI18N
        jPanel5.add(jLabel20);
        jLabel20.setBounds(10, 70, 100, 20);

        txtcsomail.setFont(txtcsomail.getFont().deriveFont((float)11));
        txtcsomail.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                txtcsomailActionPerformed(evt);
            }
        });
        jPanel5.add(txtcsomail);
        txtcsomail.setBounds(110, 70, 360, 24);

        txtcsopho.setFont(txtcsopho.getFont().deriveFont((float)11));
        jPanel5.add(txtcsopho);
        txtcsopho.setBounds(110, 50, 360, 24);

        txtcso.setFont(txtcso.getFont().deriveFont((float)11));
        txtcso.addCaretListener(new javax.swing.event.CaretListener() {
            public void caretUpdate(javax.swing.event.CaretEvent evt) {
                txtcsoCaretUpdate(evt);
            }
        });
        txtcso.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                txtcsoActionPerformed(evt);
            }
        });
        jPanel5.add(txtcso);
        txtcso.setBounds(110, 30, 360, 24);

        jLabel26.setFont(jLabel26.getFont().deriveFont((float)11));
        jLabel26.setText("CRO Code :"); // NOI18N
        jPanel5.add(jLabel26);
        jLabel26.setBounds(10, 10, 100, 20);

        txtCro1.setFont(txtCro1.getFont().deriveFont((float)11));
        txtCro1.addCaretListener(new javax.swing.event.CaretListener() {
            public void caretUpdate(javax.swing.event.CaretEvent evt) {
                txtCro1CaretUpdate(evt);
            }
        });
        txtCro1.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                txtCro1ActionPerformed(evt);
            }
        });
        jPanel5.add(txtCro1);
        txtCro1.setBounds(110, 10, 360, 24);

        jLabel59.setFont(jLabel59.getFont().deriveFont((float)11));
        jLabel59.setText("CRO Mobile Phone :"); // NOI18N
        jPanel5.add(jLabel59);
        jLabel59.setBounds(10, 90, 100, 20);

        txtcsopho1.setFont(txtcsopho1.getFont().deriveFont((float)11));
        jPanel5.add(txtcsopho1);
        txtcsopho1.setBounds(110, 90, 360, 24);

        jLabel60.setFont(jLabel60.getFont().deriveFont((float)11));
        jLabel60.setText("CRO Branch:"); // NOI18N
        jPanel5.add(jLabel60);
        jLabel60.setBounds(10, 110, 100, 20);

        txtcsobranch.setFont(txtcsobranch.getFont().deriveFont((float)11));
        jPanel5.add(txtcsobranch);
        txtcsobranch.setBounds(110, 110, 360, 24);

        tabdet.addTab("CRO", jPanel5);

        jPanel11.setBackground(new java.awt.Color(255, 255, 255));
        jPanel11.setBorder(javax.swing.BorderFactory.createTitledBorder(""));
        jPanel11.setLayout(null);

        jLabel15.setFont(jLabel15.getFont().deriveFont((float)11));
        jLabel15.setText("No. Plat :"); // NOI18N
        jPanel11.add(jLabel15);
        jLabel15.setBounds(10, 90, 100, 20);

        cbnoplat.setFont(cbnoplat.getFont().deriveFont((float)11));
        cbnoplat.addMouseListener(new java.awt.event.MouseAdapter() {
            public void mouseExited(java.awt.event.MouseEvent evt) {
                cbnoplatMouseExited(evt);
            }
        });
        jPanel11.add(cbnoplat);
        cbnoplat.setBounds(120, 170, 130, 0);

        jLabel16.setFont(jLabel16.getFont().deriveFont((float)11));
        jLabel16.setText("Engine :"); // NOI18N
        jPanel11.add(jLabel16);
        jLabel16.setBounds(10, 70, 100, 20);

        txtUnit4.setFont(txtUnit4.getFont().deriveFont((float)11));
        txtUnit4.addMouseListener(new java.awt.event.MouseAdapter() {
            public void mouseEntered(java.awt.event.MouseEvent evt) {
                txtUnit4MouseEntered(evt);
            }
        });
        jPanel11.add(txtUnit4);
        txtUnit4.setBounds(110, 70, 360, 24);

        jLabel17.setFont(jLabel17.getFont().deriveFont((float)11));
        jLabel17.setText("Warna  :"); // NOI18N
        jPanel11.add(jLabel17);
        jLabel17.setBounds(10, 130, 100, 20);

        txtUnit7.setFont(txtUnit7.getFont().deriveFont((float)11));
        jPanel11.add(txtUnit7);
        txtUnit7.setBounds(110, 130, 360, 24);

        jLabel28.setFont(jLabel28.getFont().deriveFont((float)11));
        jLabel28.setText("Chassis :"); // NOI18N
        jPanel11.add(jLabel28);
        jLabel28.setBounds(10, 50, 100, 20);

        txtUnit3.setFont(txtUnit3.getFont().deriveFont((float)11));
        jPanel11.add(txtUnit3);
        txtUnit3.setBounds(110, 50, 360, 24);

        jLabel29.setFont(jLabel29.getFont().deriveFont((float)11));
        jLabel29.setText("Tahun :"); // NOI18N
        jPanel11.add(jLabel29);
        jLabel29.setBounds(10, 110, 100, 20);

        txtUnit6.setFont(txtUnit6.getFont().deriveFont((float)11));
        txtUnit6.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                txtUnit6ActionPerformed(evt);
            }
        });
        jPanel11.add(txtUnit6);
        txtUnit6.setBounds(110, 110, 360, 24);

        jLabel61.setFont(jLabel61.getFont().deriveFont((float)11));
        jLabel61.setText("Code :"); // NOI18N
        jPanel11.add(jLabel61);
        jLabel61.setBounds(10, 10, 100, 20);

        txtUnit1.setFont(txtUnit1.getFont().deriveFont((float)11));
        txtUnit1.addMouseListener(new java.awt.event.MouseAdapter() {
            public void mouseEntered(java.awt.event.MouseEvent evt) {
                txtUnit1MouseEntered(evt);
            }
        });
        jPanel11.add(txtUnit1);
        txtUnit1.setBounds(110, 10, 360, 24);

        jLabel62.setFont(jLabel62.getFont().deriveFont((float)11));
        jLabel62.setText("Tipe :"); // NOI18N
        jPanel11.add(jLabel62);
        jLabel62.setBounds(10, 30, 100, 20);

        txtUnit2.setFont(txtUnit2.getFont().deriveFont((float)11));
        jPanel11.add(txtUnit2);
        txtUnit2.setBounds(110, 30, 360, 24);

        txtUnit5.setFont(txtUnit5.getFont().deriveFont((float)11));
        txtUnit5.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                txtUnit5ActionPerformed(evt);
            }
        });
        jPanel11.add(txtUnit5);
        txtUnit5.setBounds(110, 90, 360, 24);

        jLabel63.setFont(jLabel63.getFont().deriveFont((float)11));
        jLabel63.setText("Lokasi  :"); // NOI18N
        jPanel11.add(jLabel63);
        jLabel63.setBounds(10, 150, 100, 20);

        txtUnit8.setFont(txtUnit8.getFont().deriveFont((float)11));
        jPanel11.add(txtUnit8);
        txtUnit8.setBounds(110, 150, 360, 24);

        tabdet.addTab("Unit", jPanel11);

        jPanel12.setBackground(new java.awt.Color(255, 255, 255));
        jPanel12.setBorder(javax.swing.BorderFactory.createTitledBorder(""));
        jPanel12.setLayout(null);

        jLabel18.setFont(jLabel18.getFont().deriveFont((float)11));
        jLabel18.setText("Driver Code :"); // NOI18N
        jPanel12.add(jLabel18);
        jLabel18.setBounds(10, 10, 100, 20);

        jLabel19.setFont(jLabel19.getFont().deriveFont((float)11));
        jLabel19.setText("Driver Name :"); // NOI18N
        jPanel12.add(jLabel19);
        jLabel19.setBounds(10, 30, 100, 20);

        txtdrinm.setFont(txtdrinm.getFont().deriveFont((float)11));
        jPanel12.add(txtdrinm);
        txtdrinm.setBounds(110, 30, 360, 24);

        cbdriver.setFont(cbdriver.getFont().deriveFont((float)11));
        cbdriver.addFocusListener(new java.awt.event.FocusAdapter() {
            public void focusGained(java.awt.event.FocusEvent evt) {
                cbdriverFocusGained(evt);
            }
        });
        jPanel12.add(cbdriver);
        cbdriver.setBounds(110, 10, 130, 0);

        jLabel30.setFont(jLabel30.getFont().deriveFont((float)11));
        jLabel30.setText("Driver Phone :"); // NOI18N
        jPanel12.add(jLabel30);
        jLabel30.setBounds(10, 50, 100, 0);

        txtdripho1.setFont(txtdripho1.getFont().deriveFont((float)11));
        jPanel12.add(txtdripho1);
        txtdripho1.setBounds(110, 50, 360, 0);

        txtDriCode.setFont(txtDriCode.getFont().deriveFont((float)11));
        jPanel12.add(txtDriCode);
        txtDriCode.setBounds(110, 10, 360, 24);

        tabdet.addTab("Driver", jPanel12);

        jPanel1.add(tabdet);
        tabdet.setBounds(10, 200, 492, 280);

        btncall.setFont(btncall.getFont().deriveFont(btncall.getFont().getStyle() | java.awt.Font.BOLD, 11));
        btncall.setForeground(new java.awt.Color(0, 153, 51));
        btncall.setText("Call");
        btncall.setEnabled(false);
        btncall.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                btncallActionPerformed(evt);
            }
        });
        jPanel1.add(btncall);
        btncall.setBounds(240, 460, 60, 0);

        btnfax.setFont(btnfax.getFont().deriveFont(btnfax.getFont().getStyle() | java.awt.Font.BOLD, 11));
        btnfax.setForeground(new java.awt.Color(0, 153, 51));
        btnfax.setText("Fax");
        btnfax.setEnabled(false);
        btnfax.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                btnfaxActionPerformed(evt);
            }
        });
        jPanel1.add(btnfax);
        btnfax.setBounds(430, 460, 60, 0);

        btnmail.setFont(btnmail.getFont().deriveFont(btnmail.getFont().getStyle() | java.awt.Font.BOLD, 11));
        btnmail.setForeground(new java.awt.Color(0, 153, 51));
        btnmail.setText("Email");
        btnmail.setEnabled(false);
        btnmail.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                btnmailActionPerformed(evt);
            }
        });
        jPanel1.add(btnmail);
        btnmail.setBounds(360, 480, 70, 20);

        btnsms.setFont(btnsms.getFont().deriveFont(btnsms.getFont().getStyle() | java.awt.Font.BOLD, 11));
        btnsms.setForeground(new java.awt.Color(0, 153, 51));
        btnsms.setText("Sms");
        btnsms.setEnabled(false);
        btnsms.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                btnsmsActionPerformed(evt);
            }
        });
        jPanel1.add(btnsms);
        btnsms.setBounds(300, 480, 60, 20);

        jLabel54.setFont(jLabel54.getFont().deriveFont((float)11));
        jLabel54.setText("Department :"); // NOI18N
        jPanel1.add(jLabel54);
        jLabel54.setBounds(20, 60, 100, 20);

        jLabel56.setFont(jLabel56.getFont().deriveFont((float)11));
        jLabel56.setText("Category Detail :"); // NOI18N
        jPanel1.add(jLabel56);
        jLabel56.setBounds(20, 140, 100, 20);

        cbTicketType.setFont(cbTicketType.getFont().deriveFont((float)11));
        cbTicketType.setModel(new javax.swing.DefaultComboBoxModel(new String[] { "Item 1", "Item 2", "Item 3", "Item 4" }));
        cbTicketType.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                cbTicketTypeActionPerformed(evt);
            }
        });
        jPanel1.add(cbTicketType);
        cbTicketType.setBounds(120, 100, 360, 24);

        jLabel57.setFont(jLabel57.getFont().deriveFont((float)11));
        jLabel57.setText("Ticket type :"); // NOI18N
        jPanel1.add(jLabel57);
        jLabel57.setBounds(20, 100, 100, 20);

        jLabel55.setFont(jLabel55.getFont().deriveFont((float)11));
        jLabel55.setText("Cc Department :"); // NOI18N
        jPanel1.add(jLabel55);
        jLabel55.setBounds(20, 160, 100, 20);

        cbcatdetail.setFont(cbcatdetail.getFont().deriveFont((float)11));
        cbcatdetail.setModel(new javax.swing.DefaultComboBoxModel(new String[] { "Item 1", "Item 2", "Item 3", "Item 4" }));
        jPanel1.add(cbcatdetail);
        cbcatdetail.setBounds(120, 140, 360, 24);

        cbArea.setFont(cbArea.getFont().deriveFont((float)11));
        cbArea.setModel(new javax.swing.DefaultComboBoxModel(new String[] { "Item 1", "Item 2", "Item 3", "Item 4" }));
        jPanel1.add(cbArea);
        cbArea.setBounds(120, 80, 360, 24);

        jLabel58.setFont(jLabel58.getFont().deriveFont((float)11));
        jLabel58.setText("Prority :"); // NOI18N
        jPanel1.add(jLabel58);
        jLabel58.setBounds(20, 20, 100, 20);

        txtCaseArea.setFont(txtCaseArea.getFont().deriveFont(txtCaseArea.getFont().getStyle() | java.awt.Font.BOLD, 11));
        jPanel1.add(txtCaseArea);
        txtCaseArea.setBounds(120, 40, 360, 24);

        jPanel7.add(jPanel1);
        jPanel1.setBounds(10, 10, 510, 610);

        jPanel6.setBackground(new java.awt.Color(255, 255, 255));
        jPanel6.setBorder(javax.swing.BorderFactory.createTitledBorder(null, "Action", javax.swing.border.TitledBorder.DEFAULT_JUSTIFICATION, javax.swing.border.TitledBorder.DEFAULT_POSITION, new java.awt.Font("Tahoma", 1, 10))); // NOI18N
        jPanel6.setFont(jPanel6.getFont().deriveFont((float)11));
        jPanel6.setLayout(null);

        btncreate.setFont(btncreate.getFont().deriveFont(btncreate.getFont().getStyle() | java.awt.Font.BOLD, 11));
        btncreate.setIcon(new javax.swing.ImageIcon(getClass().getResource("/icon/1.jpg"))); // NOI18N
        btncreate.setText("Submit"); // NOI18N
        btncreate.setToolTipText("Create Ticket"); // NOI18N
        btncreate.addMouseListener(new java.awt.event.MouseAdapter() {
            public void mouseEntered(java.awt.event.MouseEvent evt) {
                btncreateMouseEntered(evt);
            }
        });
        btncreate.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                btncreateActionPerformed(evt);
            }
        });
        jPanel6.add(btncreate);
        btncreate.setBounds(10, 20, 130, 40);

        btnhist.setFont(btnhist.getFont().deriveFont(btnhist.getFont().getStyle() | java.awt.Font.BOLD, 11));
        btnhist.setIcon(new javax.swing.ImageIcon(getClass().getResource("/icon/hi.jpg"))); // NOI18N
        btnhist.setText("History"); // NOI18N
        btnhist.setToolTipText("History"); // NOI18N
        btnhist.addMouseListener(new java.awt.event.MouseAdapter() {
            public void mouseClicked(java.awt.event.MouseEvent evt) {
                btnhistMouseClicked(evt);
            }
        });
        jPanel6.add(btnhist);
        btnhist.setBounds(230, 20, 120, 40);

        cksubmit.setBackground(new java.awt.Color(204, 204, 255));
        cksubmit.setFont(cksubmit.getFont().deriveFont(cksubmit.getFont().getStyle() | java.awt.Font.BOLD, 11));
        cksubmit.setSelected(true);
        cksubmit.setText("Submit");
        cksubmit.addMouseListener(new java.awt.event.MouseAdapter() {
            public void mouseClicked(java.awt.event.MouseEvent evt) {
                cksubmitMouseClicked(evt);
            }
        });
        jPanel6.add(cksubmit);
        cksubmit.setBounds(140, 20, 90, 20);

        btnhist1.setFont(btnhist1.getFont().deriveFont(btnhist1.getFont().getStyle() | java.awt.Font.BOLD, 11));
        btnhist1.setIcon(new javax.swing.ImageIcon(getClass().getResource("/icon/z.jpg"))); // NOI18N
        btnhist1.setText("Media"); // NOI18N
        btnhist1.setToolTipText("History"); // NOI18N
        btnhist1.addMouseListener(new java.awt.event.MouseAdapter() {
            public void mouseClicked(java.awt.event.MouseEvent evt) {
                btnhist1MouseClicked(evt);
            }
        });
        jPanel6.add(btnhist1);
        btnhist1.setBounds(355, 20, 110, 40);

        jPanel7.add(jPanel6);
        jPanel6.setBounds(530, 10, 480, 70);

        jPanel8.setBackground(new java.awt.Color(255, 255, 255));
        jPanel8.setBorder(javax.swing.BorderFactory.createTitledBorder(null, "Action", javax.swing.border.TitledBorder.DEFAULT_JUSTIFICATION, javax.swing.border.TitledBorder.DEFAULT_POSITION, new java.awt.Font("Tahoma", 1, 10))); // NOI18N
        jPanel8.setFont(jPanel8.getFont().deriveFont((float)11));
        jPanel8.setLayout(null);

        btncanc.setFont(btncanc.getFont().deriveFont(btncanc.getFont().getStyle() | java.awt.Font.BOLD, 11));
        btncanc.setIcon(new javax.swing.ImageIcon(getClass().getResource("/icon/exit.jpg"))); // NOI18N
        btncanc.setText("Exit"); // NOI18N
        btncanc.setToolTipText("EXIT"); // NOI18N
        btncanc.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                btncancActionPerformed(evt);
            }
        });
        jPanel8.add(btncanc);
        btncanc.setBounds(20, 20, 90, 40);

        jPanel7.add(jPanel8);
        jPanel8.setBounds(870, 550, 130, 70);

        jPanel9.setBackground(new java.awt.Color(255, 255, 255));
        jPanel9.setBorder(javax.swing.BorderFactory.createTitledBorder(null, "Action", javax.swing.border.TitledBorder.DEFAULT_JUSTIFICATION, javax.swing.border.TitledBorder.DEFAULT_POSITION, new java.awt.Font("Tahoma", 1, 10))); // NOI18N
        jPanel9.setFont(jPanel9.getFont().deriveFont((float)11));
        jPanel9.setLayout(null);

        btnclosed.setFont(btnclosed.getFont().deriveFont(btnclosed.getFont().getStyle() | java.awt.Font.BOLD, 11));
        btnclosed.setIcon(new javax.swing.ImageIcon(getClass().getResource("/icon/comp.jpg"))); // NOI18N
        btnclosed.setText("Closed"); // NOI18N
        btnclosed.setToolTipText("Closed Ticket"); // NOI18N
        btnclosed.setEnabled(false);
        btnclosed.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                btnclosedActionPerformed(evt);
            }
        });
        jPanel9.add(btnclosed);
        btnclosed.setBounds(150, 20, 110, 40);

        btncanc1.setFont(btncanc1.getFont().deriveFont(btncanc1.getFont().getStyle() | java.awt.Font.BOLD, 11));
        btncanc1.setIcon(new javax.swing.ImageIcon(getClass().getResource("/icon/cancel.jpg"))); // NOI18N
        btncanc1.setText("Cancel"); // NOI18N
        btncanc1.setToolTipText("Cancel"); // NOI18N
        btncanc1.addMouseListener(new java.awt.event.MouseAdapter() {
            public void mouseClicked(java.awt.event.MouseEvent evt) {
                btncanc1MouseClicked(evt);
            }
        });
        btncanc1.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                btncanc1ActionPerformed(evt);
            }
        });
        jPanel9.add(btncanc1);
        btncanc1.setBounds(20, 20, 110, 40);

        jPanel7.add(jPanel9);
        jPanel9.setBounds(530, 550, 280, 70);

        jPanel2.setBackground(new java.awt.Color(255, 255, 255));
        jPanel7.add(jPanel2);
        jPanel2.setBounds(540, 200, 350, 40);

        ckGT.setBackground(new java.awt.Color(255, 255, 255));
        ckGT.setFont(ckGT.getFont().deriveFont(ckGT.getFont().getStyle() | java.awt.Font.BOLD, 11));
        ckGT.setText("GT");
        ckGT.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                ckGTActionPerformed(evt);
            }
        });
        jPanel7.add(ckGT);
        ckGT.setBounds(620, 200, 60, 23);

        jLabel49.setFont(jLabel49.getFont().deriveFont(jLabel49.getFont().getStyle() | java.awt.Font.BOLD, 11));
        jLabel49.setText("Action : ");
        jPanel7.add(jLabel49);
        jLabel49.setBounds(540, 200, 60, 20);

        jLabel50.setFont(jLabel50.getFont().deriveFont(jLabel50.getFont().getStyle() | java.awt.Font.BOLD, 11));
        jLabel50.setText("Ready : ");
        jPanel7.add(jLabel50);
        jLabel50.setBounds(540, 220, 60, 20);

        ckGS.setBackground(new java.awt.Color(255, 255, 255));
        ckGS.setFont(ckGS.getFont().deriveFont(ckGS.getFont().getStyle() | java.awt.Font.BOLD, 11));
        ckGS.setText("GS");
        ckGS.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                ckGSActionPerformed(evt);
            }
        });
        jPanel7.add(ckGS);
        ckGS.setBounds(680, 200, 60, 23);

        ckSTORING.setBackground(new java.awt.Color(255, 255, 255));
        ckSTORING.setFont(ckSTORING.getFont().deriveFont(ckSTORING.getFont().getStyle() | java.awt.Font.BOLD, 11));
        ckSTORING.setText("STORING");
        ckSTORING.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                ckSTORINGActionPerformed(evt);
            }
        });
        jPanel7.add(ckSTORING);
        ckSTORING.setBounds(740, 200, 80, 23);

        ckOTHERS.setBackground(new java.awt.Color(255, 255, 255));
        ckOTHERS.setFont(ckOTHERS.getFont().deriveFont(ckOTHERS.getFont().getStyle() | java.awt.Font.BOLD, 11));
        ckOTHERS.setText("OTHERS");
        ckOTHERS.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                ckOTHERSActionPerformed(evt);
            }
        });
        jPanel7.add(ckOTHERS);
        ckOTHERS.setBounds(820, 200, 80, 23);

        ckgtyes.setBackground(new java.awt.Color(255, 255, 255));
        ckgtyes.setFont(ckgtyes.getFont().deriveFont(ckgtyes.getFont().getStyle() | java.awt.Font.BOLD, 11));
        ckgtyes.setText("Yes");
        ckgtyes.setEnabled(false);
        jPanel7.add(ckgtyes);
        ckgtyes.setBounds(620, 220, 60, 23);

        ckgsyes.setBackground(new java.awt.Color(255, 255, 255));
        ckgsyes.setFont(ckgsyes.getFont().deriveFont(ckgsyes.getFont().getStyle() | java.awt.Font.BOLD, 11));
        ckgsyes.setText("Yes");
        ckgsyes.setEnabled(false);
        jPanel7.add(ckgsyes);
        ckgsyes.setBounds(680, 220, 60, 23);

        ckstoringyes.setBackground(new java.awt.Color(255, 255, 255));
        ckstoringyes.setFont(ckstoringyes.getFont().deriveFont(ckstoringyes.getFont().getStyle() | java.awt.Font.BOLD, 11));
        ckstoringyes.setText("Yes");
        ckstoringyes.setEnabled(false);
        jPanel7.add(ckstoringyes);
        ckstoringyes.setBounds(740, 220, 60, 23);

        ckothersyes.setBackground(new java.awt.Color(255, 255, 255));
        ckothersyes.setFont(ckothersyes.getFont().deriveFont(ckothersyes.getFont().getStyle() | java.awt.Font.BOLD, 11));
        ckothersyes.setText("Yes");
        ckothersyes.setEnabled(false);
        jPanel7.add(ckothersyes);
        ckothersyes.setBounds(820, 220, 60, 23);

        txtlastnote.setColumns(20);
        txtlastnote.setEditable(false);
        txtlastnote.setFont(txtlastnote.getFont().deriveFont((float)11));
        txtlastnote.setLineWrap(true);
        txtlastnote.setRows(5);
        jScrollPane4.setViewportView(txtlastnote);

        jPanel7.add(jScrollPane4);
        jScrollPane4.setBounds(540, 370, 460, 170);

        jLabel51.setFont(jLabel51.getFont().deriveFont(jLabel51.getFont().getStyle() | java.awt.Font.BOLD, 10));
        jLabel51.setForeground(new java.awt.Color(51, 51, 255));
        jLabel51.setText("Details :");
        jPanel7.add(jLabel51);
        jLabel51.setBounds(540, 90, 60, 10);

        txtdetails.setColumns(20);
        txtdetails.setFont(txtdetails.getFont().deriveFont((float)11));
        txtdetails.setLineWrap(true);
        txtdetails.setRows(5);
        jScrollPane1.setViewportView(txtdetails);

        jPanel7.add(jScrollPane1);
        jScrollPane1.setBounds(540, 100, 460, 90);

        jLabel52.setFont(jLabel52.getFont().deriveFont(jLabel52.getFont().getStyle() | java.awt.Font.BOLD, 10));
        jLabel52.setForeground(new java.awt.Color(51, 51, 255));
        jLabel52.setText("Last Note :");
        jPanel7.add(jLabel52);
        jLabel52.setBounds(540, 360, 100, 10);

        jLabel53.setFont(jLabel53.getFont().deriveFont(jLabel53.getFont().getStyle() | java.awt.Font.BOLD, 10));
        jLabel53.setForeground(new java.awt.Color(51, 51, 255));
        jLabel53.setText("Note :");
        jPanel7.add(jLabel53);
        jLabel53.setBounds(540, 250, 40, 10);

        txtnote.setColumns(20);
        txtnote.setFont(txtnote.getFont().deriveFont((float)11));
        txtnote.setLineWrap(true);
        txtnote.setRows(5);
        jScrollPane11.setViewportView(txtnote);

        jPanel7.add(jScrollPane11);
        jScrollPane11.setBounds(540, 260, 460, 90);

        jScrollPane5.setViewportView(jPanel7);

        getContentPane().add(jScrollPane5);
        jScrollPane5.setBounds(0, 0, 1020, 630);

        pnluser.setBackground(new java.awt.Color(255, 255, 255));
        pnluser.setBorder(javax.swing.BorderFactory.createTitledBorder(""));
        pnluser.setLayout(null);

        jLabel11.setFont(jLabel11.getFont().deriveFont((float)11));
        jLabel11.setText("User Name :"); // NOI18N
        pnluser.add(jLabel11);
        jLabel11.setBounds(10, 10, 100, 20);

        txtusr.setFont(txtusr.getFont().deriveFont((float)11));
        pnluser.add(txtusr);
        txtusr.setBounds(110, 10, 360, 24);
        txtusr.getText().toUpperCase();

        jLabel12.setFont(jLabel12.getFont().deriveFont((float)11));
        jLabel12.setText("User Address :"); // NOI18N
        pnluser.add(jLabel12);
        jLabel12.setBounds(10, 50, 100, 20);

        txtusrpho.setFont(txtusrpho.getFont().deriveFont((float)11));
        pnluser.add(txtusrpho);
        txtusrpho.setBounds(110, 30, 360, 24);

        jLabel27.setFont(jLabel27.getFont().deriveFont((float)11));
        jLabel27.setText("User Phone :"); // NOI18N
        pnluser.add(jLabel27);
        jLabel27.setBounds(10, 30, 100, 20);

        txtusraddr.setColumns(20);
        txtusraddr.setFont(new java.awt.Font("Tahoma", 0, 11)); // NOI18N
        txtusraddr.setRows(5);
        jScrollPane7.setViewportView(txtusraddr);

        pnluser.add(jScrollPane7);
        jScrollPane7.setBounds(110, 50, 360, 76);

        hiddenTab.addTab("User", pnluser);

        pnlRep.setBackground(new java.awt.Color(255, 255, 255));
        pnlRep.setBorder(javax.swing.BorderFactory.createTitledBorder(""));
        pnlRep.setPreferredSize(new java.awt.Dimension(0, 440));
        pnlRep.setLayout(null);

        jLabel32.setFont(jLabel32.getFont().deriveFont((float)11));
        jLabel32.setText("Driver Dept :"); // NOI18N
        pnlRep.add(jLabel32);
        jLabel32.setBounds(10, 10, 100, 20);

        jLabel33.setFont(jLabel33.getFont().deriveFont((float)11));
        jLabel33.setText("Opr. Dept :"); // NOI18N
        pnlRep.add(jLabel33);
        jLabel33.setBounds(10, 30, 100, 20);

        jLabel34.setFont(jLabel34.getFont().deriveFont((float)11));
        jLabel34.setText("CSO :"); // NOI18N
        pnlRep.add(jLabel34);
        jLabel34.setBounds(10, 50, 100, 20);

        jLabel35.setFont(jLabel35.getFont().deriveFont((float)11));
        jLabel35.setText("Plate/Type :"); // NOI18N
        pnlRep.add(jLabel35);
        jLabel35.setBounds(10, 220, 100, 20);

        jLabel36.setFont(jLabel36.getFont().deriveFont((float)11));
        jLabel36.setText("Meet/Contact :"); // NOI18N
        pnlRep.add(jLabel36);
        jLabel36.setBounds(10, 100, 100, 20);

        jLabel37.setFont(jLabel37.getFont().deriveFont((float)11));
        jLabel37.setText("Cust. name :"); // NOI18N
        pnlRep.add(jLabel37);
        jLabel37.setBounds(10, 80, 100, 20);

        jLabel38.setFont(jLabel38.getFont().deriveFont((float)11));
        jLabel38.setText("Phone No :"); // NOI18N
        pnlRep.add(jLabel38);
        jLabel38.setBounds(10, 120, 100, 20);

        jLabel39.setFont(jLabel39.getFont().deriveFont((float)11));
        jLabel39.setText("Address :"); // NOI18N
        pnlRep.add(jLabel39);
        jLabel39.setBounds(10, 140, 100, 20);

        jLabel40.setFont(jLabel40.getFont().deriveFont((float)11));
        jLabel40.setText("Original car :"); // NOI18N
        pnlRep.add(jLabel40);
        jLabel40.setBounds(10, 200, 100, 20);

        jLabel41.setFont(jLabel41.getFont().deriveFont((float)11));
        jLabel41.setText("Replacement car :"); // NOI18N
        pnlRep.add(jLabel41);
        jLabel41.setBounds(10, 240, 100, 20);

        jLabel42.setFont(jLabel42.getFont().deriveFont((float)11));
        jLabel42.setHorizontalAlignment(javax.swing.SwingConstants.CENTER);
        jLabel42.setText("Until :"); // NOI18N
        pnlRep.add(jLabel42);
        jLabel42.setBounds(230, 320, 80, 20);

        jLabel43.setFont(jLabel43.getFont().deriveFont((float)11));
        jLabel43.setText("Plate/Type :"); // NOI18N
        pnlRep.add(jLabel43);
        jLabel43.setBounds(10, 260, 100, 20);

        jLabel44.setFont(jLabel44.getFont().deriveFont((float)11));
        jLabel44.setText("Delivery Date :"); // NOI18N
        pnlRep.add(jLabel44);
        jLabel44.setBounds(10, 280, 100, 20);

        jLabel45.setFont(jLabel45.getFont().deriveFont((float)11));
        jLabel45.setText("Driver Phone :"); // NOI18N
        pnlRep.add(jLabel45);
        jLabel45.setBounds(10, 300, 100, 20);

        jLabel46.setFont(jLabel46.getFont().deriveFont((float)11));
        jLabel46.setText("Start From :"); // NOI18N
        pnlRep.add(jLabel46);
        jLabel46.setBounds(10, 320, 100, 20);

        jLabel47.setFont(jLabel47.getFont().deriveFont((float)11));
        jLabel47.setText("Memo :"); // NOI18N
        pnlRep.add(jLabel47);
        jLabel47.setBounds(10, 340, 100, 20);

        jLabel48.setFont(jLabel48.getFont().deriveFont((float)11));
        jLabel48.setHorizontalAlignment(javax.swing.SwingConstants.CENTER);
        jLabel48.setText("Time :"); // NOI18N
        pnlRep.add(jLabel48);
        jLabel48.setBounds(230, 280, 80, 20);

        txtrdridpt.setFont(txtrdridpt.getFont().deriveFont((float)11));
        pnlRep.add(txtrdridpt);
        txtrdridpt.setBounds(110, 10, 350, 24);

        txtrcso.setFont(txtrcso.getFont().deriveFont((float)11));
        pnlRep.add(txtrcso);
        txtrcso.setBounds(110, 50, 350, 24);

        txtroprdpt.setFont(txtroprdpt.getFont().deriveFont((float)11));
        pnlRep.add(txtroprdpt);
        txtroprdpt.setBounds(110, 30, 350, 24);

        txtrcusnm.setFont(txtrcusnm.getFont().deriveFont((float)11));
        pnlRep.add(txtrcusnm);
        txtrcusnm.setBounds(110, 80, 350, 24);

        txtrcontact.setFont(txtrcontact.getFont().deriveFont((float)11));
        pnlRep.add(txtrcontact);
        txtrcontact.setBounds(110, 100, 350, 24);

        txtrphoneno.setFont(txtrphoneno.getFont().deriveFont((float)11));
        txtrphoneno.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                txtrphonenoActionPerformed(evt);
            }
        });
        pnlRep.add(txtrphoneno);
        txtrphoneno.setBounds(110, 120, 350, 24);

        txtrmemo.setColumns(20);
        txtrmemo.setFont(new java.awt.Font("Tahoma", 0, 11)); // NOI18N
        txtrmemo.setRows(5);
        jScrollPane9.setViewportView(txtrmemo);

        pnlRep.add(jScrollPane9);
        jScrollPane9.setBounds(110, 340, 350, 60);

        txtroricarplate.setFont(txtroricarplate.getFont().deriveFont((float)11));
        pnlRep.add(txtroricarplate);
        txtroricarplate.setBounds(110, 220, 350, 24);

        txtrrepcarpalte.setFont(txtrrepcarpalte.getFont().deriveFont((float)11));
        pnlRep.add(txtrrepcarpalte);
        txtrrepcarpalte.setBounds(110, 260, 350, 24);

        dtruntil.setDateFormatString("dd-MM-yyyy");
        dtruntil.setFont(dtruntil.getFont().deriveFont((float)11));
        pnlRep.add(dtruntil);
        dtruntil.setBounds(310, 320, 120, 24);

        dtrdeliver.setDateFormatString("dd-MM-yyyy");
        dtrdeliver.setFont(dtrdeliver.getFont().deriveFont((float)11));
        pnlRep.add(dtrdeliver);
        dtrdeliver.setBounds(110, 280, 120, 24);

        dtrstart.setDateFormatString("dd-MM-yyyy");
        dtrstart.setFont(dtrstart.getFont().deriveFont((float)11));
        pnlRep.add(dtrstart);
        dtrstart.setBounds(110, 320, 120, 24);

        txtraddr.setColumns(20);
        txtraddr.setFont(new java.awt.Font("Tahoma", 0, 11)); // NOI18N
        txtraddr.setRows(5);
        jScrollPane10.setViewportView(txtraddr);

        pnlRep.add(jScrollPane10);
        jScrollPane10.setBounds(110, 140, 350, 60);

        txtrdripho.setFont(txtrdripho.getFont().deriveFont((float)11));
        pnlRep.add(txtrdripho);
        txtrdripho.setBounds(110, 300, 350, 24);

        cbroristat.setFont(cbroristat.getFont().deriveFont((float)11));
        cbroristat.setModel(new javax.swing.DefaultComboBoxModel(new String[] { " ", "ANTAR", "AMBIL" }));
        cbroristat.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                cbroristatActionPerformed(evt);
            }
        });
        pnlRep.add(cbroristat);
        cbroristat.setBounds(110, 200, 120, 24);

        cbrrepstat.setFont(cbrrepstat.getFont().deriveFont((float)11));
        cbrrepstat.setModel(new javax.swing.DefaultComboBoxModel(new String[] { " ", "ANTAR", "AMBIL" }));
        pnlRep.add(cbrrepstat);
        cbrrepstat.setBounds(110, 240, 120, 24);

        try {
            txtrdelivertime.setFormatterFactory(new javax.swing.text.DefaultFormatterFactory(new javax.swing.text.MaskFormatter("##:##:##")));
        } catch (java.text.ParseException ex) {
            ex.printStackTrace();
        }
        txtrdelivertime.setHorizontalAlignment(javax.swing.JTextField.CENTER);
        txtrdelivertime.setFont(txtrdelivertime.getFont().deriveFont((float)11));
        pnlRep.add(txtrdelivertime);
        txtrdelivertime.setBounds(310, 280, 100, 24);

        jScrollPane8.setViewportView(pnlRep);

        hiddenTab.addTab("Replacement Car", jScrollPane8);

        getContentPane().add(hiddenTab);
        hiddenTab.setBounds(0, 0, 98, 0);

        pack();
    }// </editor-fold>//GEN-END:initComponents

    private void cbdriverFocusGained(java.awt.event.FocusEvent evt) {//GEN-FIRST:event_cbdriverFocusGained
        // TODO add your handling code here:
//        if(cbnoplat.getSelectedItem().equals("--") && cbtype.getSelectedItem().equals("--") && cbwarna.getSelectedItem().equals("--")){
//
//        }else{
//            try{
//            cbdriver.removeAllItems();
//            sql="select driver_name from customer_order where vehicle_platno='"+cbnoplat.getSelectedItem()+"' and driver_name is not null GROUP BY driver_name";
//            rs=jconn.SQLExecuteRS(sql,conn);
//            while(rs.next()){
//                cbdriver.addItem(rs.getString(1));
//            }
//            cbdriver.addItem("--");
//            }catch(Exception e){
//                System.out.println(e);
//            }
//        }
//            if(cbdriver.getSelectedItem().equals("--")){
//            }
    }//GEN-LAST:event_cbdriverFocusGained


    private void btnhistMouseClicked(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_btnhistMouseClicked
        // TODO add your handling code here:
        History hic = new History();
        hic.setVisible(true);

        Hic.no=id;
        Hic.ticid=Integer.valueOf((String)txtnotic.getText());
        Hic.klik2();
    }//GEN-LAST:event_btnhistMouseClicked

    private void btncancActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_btncancActionPerformed
        // TODO add your handling code here:
        dispose();
        CCanj.ticshow=false;
    }//GEN-LAST:event_btncancActionPerformed

    private void txtquesMouseClicked(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_txtquesMouseClicked
        // TODO add your handling code here:
        txtinfo.setText("");
        txtques.setText("");
         try{
                sql="select question, info from  _ticketcategory  where category_name='"+cbcategory.getSelectedItem()+"'  and _deleted=0";
                rs=CCanj.jconn.SQLExecuteRS(sql,CCanj.conn);
                while(rs.next()){
                    txtques.setText(rs.getString(1).toString());
                    txtinfo.setText(rs.getString(2).toString());
                }
            }catch(Exception e){
                System.out.println(e);
            }
    }//GEN-LAST:event_txtquesMouseClicked

    private void txtcsomailActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_txtcsomailActionPerformed
        // TODO add your handling code here:
}//GEN-LAST:event_txtcsomailActionPerformed

    private void btnsrchcusMouseClicked(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_btnsrchcusMouseClicked
        // TODO add your handling code here:
        
    }//GEN-LAST:event_btnsrchcusMouseClicked

    private void txtcsoCaretUpdate(javax.swing.event.CaretEvent evt) {//GEN-FIRST:event_txtcsoCaretUpdate
        // TODO add your handling code here:
//        if (txtcso.getText().equals("")){
//            txtcsomail.setText("hendri.suhenda@jsm.co.id");
//        }else {
//            txtcsomail.setText("marshal@jsm.co.id");
//        }
    }//GEN-LAST:event_txtcsoCaretUpdate

    private void btncreateMouseEntered(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_btncreateMouseEntered
        // TODO add your handling code here:
//        if (txtcsomail.getText().equals("")){
//            JOptionPane.showMessageDialog(null, "Cso Mail cannot be empty !!", "MAILING",JOptionPane.WARNING_MESSAGE);
//        }
    }//GEN-LAST:event_btncreateMouseEntered

    private void cksubmitMouseClicked(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_cksubmitMouseClicked
        // TODO add your handling code here:
        if(cksubmit.isSelected()==true){
            btnclosed.setEnabled(false);
            submit=1;
            btncreate.setText("Submit");
            
        }else{
            btnclosed.setEnabled(true);
            submit=0;
            if(newtic==true){
                btncreate.setText("Created");
            }else{
                btncreate.setText("Save");
            }
        }
    }//GEN-LAST:event_cksubmitMouseClicked

    private void btncanc1MouseClicked(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_btncanc1MouseClicked
        // TODO add your handling code here:
        opdt();
        optm();
        int i=JOptionPane.showConfirmDialog(null, "Data will be changes","SAVE",JOptionPane.YES_NO_OPTION);
        if (i==JOptionPane.YES_OPTION){
            sql="update tickets set _status=-1, cancel_date='"+opdt+"', cancel_time='"+optm+"', cancel_username='"+CCanj.lbluser.getText()+"' where ticket_id='"+id+"'";
            CCanj.jconn.SQLExecute(sql,CCanj.conn);
            sql2="insert into log_tickets (log_date,log_time,username,user_level,ticket_id,_status,info) values ('"+opdt+"','"+optm+"','"+CCanj.lbluser.getText()+"','"+usrlvl+"','"+id+"',-1,'ticket canceled by : "+CCanj.lbluser.getText()+"\n"+opdt+"\n"+optm+"\n\n"+txtdetails.getText()+" \n\n "+txtlastnote.getText()+"')";
            CCanj.jconn.SQLExecute(sql2,CCanj.conn);
        }
    }//GEN-LAST:event_btncanc1MouseClicked

    private void formWindowClosed(java.awt.event.WindowEvent evt) {//GEN-FIRST:event_formWindowClosed
        // TODO add your handling code here:
        btncall.setEnabled(false);
        btnfax.setEnabled(false);
        btnmail.setEnabled(false);
        btnsms.setEnabled(false);
        CCanj.ticshow=false;
//        try {
//            conn.close();
//        } catch (SQLException ex) {
//            System.err.println(ex.getMessage());
//        }
    }//GEN-LAST:event_formWindowClosed

    private void btnhist1MouseClicked(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_btnhist1MouseClicked
        // TODO add your handling code here:
        Media med = new Media();
        med.setVisible(true);

        Med.no=id;
        Med.tno=txtnotic.getText();
        Med.tabelmedia();
    }//GEN-LAST:event_btnhist1MouseClicked

    private void txtcontractActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_txtcontractActionPerformed
        // TODO add your handling code here:
    }//GEN-LAST:event_txtcontractActionPerformed

    private void txtcsoActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_txtcsoActionPerformed
        // TODO add your handling code here:
    }//GEN-LAST:event_txtcsoActionPerformed

    private void txtCro1CaretUpdate(javax.swing.event.CaretEvent evt) {//GEN-FIRST:event_txtCro1CaretUpdate
        // TODO add your handling code here:
}//GEN-LAST:event_txtCro1CaretUpdate

    private void txtCro1ActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_txtCro1ActionPerformed
        // TODO add your handling code here:
}//GEN-LAST:event_txtCro1ActionPerformed

    private void cbnoplatMouseExited(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_cbnoplatMouseExited
        // TODO add your handling code here:
        if(cbnoplat.getSelectedIndex()==1){
//            System.out.print(cbnoplat.getSelectedIndex());
            try{
                sql="select gs_vehicle_jenis, gs_vehicle_tahun, gs_vehicle_type, gs_vehicle_warna from customer_order where gs_vehicle_platno='"+cbnoplat.getSelectedItem()+"' and rec_id='"+contid+"'";
                rs=CCanj.jconn.SQLExecuteRS(sql,CCanj.conn);
//                System.out.print(sql);
                while(rs.next()){
//                    System.out.print("\nset txt");
                    txtUnit4.setText(rs.getString(1));
//                    System.out.print("\nset txt " +rs.getString(1));
                    txtUnit6.setText(rs.getString(2));
//                    System.out.print("\nset txt " +rs.getString(2));
                    txtUnit3.setText(rs.getString(3));
//                    System.out.print("\nset txt " +rs.getString(3));
                    txtUnit7.setText(rs.getString(4));
//                    System.out.print("\nset txt " +rs.getString(4));
                }
            }catch(Exception e){
                System.out.println(e);
            }
        }else{
            try{
//                System.out.print(cbnoplat.getSelectedIndex());
                sql="select vehicle_jenis, vehicle_tahun, vehicle_type, vehicle_warna from customer_order where vehicle_platno='"+cbnoplat.getSelectedItem()+"' and rec_id='"+contid+"'";
                rs=CCanj.jconn.SQLExecuteRS(sql,CCanj.conn);
//                System.out.print(sql);
                while(rs.next()){
//                    System.out.print("\nset txt");
                    txtUnit4.setText(rs.getString(1));
//                    System.out.print("\nset txt " +rs.getString(1));
                    txtUnit6.setText(rs.getString(2));
//                    System.out.print("\nset txt " +rs.getString(2));
                    txtUnit3.setText(rs.getString(3));
//                    System.out.print("\nset txt " +rs.getString(3));
                    txtUnit7.setText(rs.getString(4));
//                    System.out.print("\nset txt " +rs.getString(4));
                }
            }catch(Exception e){
                System.out.println(e);
            }
        }
    }//GEN-LAST:event_cbnoplatMouseExited

    private void txtUnit4MouseEntered(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_txtUnit4MouseEntered
        // TODO add your handling code here:
        if(cbnoplat.getSelectedIndex()==1){
//            System.out.print(cbnoplat.getSelectedIndex());
            try{
                sql="select gs_vehicle_jenis, gs_vehicle_tahun, gs_vehicle_type, gs_vehicle_warna from customer_order where gs_vehicle_platno='"+cbnoplat.getSelectedItem()+"' and rec_id='"+contid+"'";
                rs=CCanj.jconn.SQLExecuteRS(sql,CCanj.conn);
//                System.out.print(sql);
                while(rs.next()){
//                    System.out.print("\nset txt");
                    txtUnit4.setText(rs.getString(1));
//                    System.out.print("\nset txt " +rs.getString(1));
                    txtUnit6.setText(rs.getString(2));
//                    System.out.print("\nset txt " +rs.getString(2));
                    txtUnit3.setText(rs.getString(3));
//                    System.out.print("\nset txt " +rs.getString(3));
                    txtUnit7.setText(rs.getString(4));
//                    System.out.print("\nset txt " +rs.getString(4));
                }
            }catch(Exception e){
                System.out.println(e);
            }
        }else{
            try{
//                System.out.print(cbnoplat.getSelectedIndex());
                sql="select vehicle_jenis, vehicle_tahun, vehicle_type, vehicle_warna from customer_order where vehicle_platno='"+cbnoplat.getSelectedItem()+"' and rec_id='"+contid+"'";
                rs=CCanj.jconn.SQLExecuteRS(sql,CCanj.conn);
//                System.out.print(sql);
                while(rs.next()){
//                    System.out.print("\nset txt");
                    txtUnit4.setText(rs.getString(1));
//                    System.out.print("\nset txt " +rs.getString(1));
                    txtUnit6.setText(rs.getString(2));
//                    System.out.print("\nset txt " +rs.getString(2));
                    txtUnit3.setText(rs.getString(3));
//                    System.out.print("\nset txt " +rs.getString(3));
                    txtUnit7.setText(rs.getString(4));
//                    System.out.print("\nset txt " +rs.getString(4));
                }
            }catch(Exception e){
                System.out.println(e);
            }
        }
    }//GEN-LAST:event_txtUnit4MouseEntered

    private void btnfaxActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_btnfaxActionPerformed
        // TODO add your handling code here:
        FAX1 fax = new FAX1();
        fax.setVisible(true);

        if(tabdet.getSelectedIndex()==0 && !txtcusfax.getText().equals("")){
            Fax.txtcto.setText(txtcusfax.getText());
        }
        if(tabdet.getSelectedIndex()==1 && !txtcsopho.getText().equals("")){
            Fax.txtcto.setText(txtcsopho.getText());
        }
        if(tabdet.getSelectedIndex()==2 && !txtusrpho.getText().equals("")){
            Fax.txtcto.setText(txtusrpho.getText());
        }
        if(tabdet.getSelectedIndex()==4 && !txtdripho1.getText().equals("")){
            Fax.txtcto.setText(txtdripho1.getText());
        }

        Fax.txtnotic.setText(txtnotic.getText());
        Fax.id=id;
        Fax.faxtic=true;
}//GEN-LAST:event_btnfaxActionPerformed

    private void btncallActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_btncallActionPerformed
        // TODO add your handling code here:
        OutBound out = new OutBound();
        out.setVisible(true);

        if(tabdet.getSelectedIndex()==0){
            Obc.txtdial.setText(txtcuspho.getText());
        }
        if(tabdet.getSelectedIndex()==1){
            Obc.txtdial.setText(txtcsopho.getText());
        }
        if(tabdet.getSelectedIndex()==2){
            Obc.txtdial.setText(txtusrpho.getText());
        }
        if(tabdet.getSelectedIndex()==4){
            Obc.txtdial.setText(txtdripho1.getText());
        }
        Obc.txtnotic1.setText(String.valueOf(id));
        Obc.txtnotic.setText(txtnotic.getText());
        Obc.obtic=true;

        Obc.klik2();
}//GEN-LAST:event_btncallActionPerformed

    private void btnmailActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_btnmailActionPerformed
        // TODO add your handling code here:
        EMail mail = new EMail();
        mail.setVisible(true);

        if(tabdet.getSelectedIndex()==0){
            Mail.txtcto.setText(txtcusnam.getText());
            Mail.cbcust.setSelectedItem(txtcusnam.getText());
        }
        if(tabdet.getSelectedIndex()==1){
            Mail.txtcto.setText(txtcsomail.getText());
        }
        if(tabdet.getSelectedIndex()==2){
            Mail.txtcto.setText(txtusr.getText());
        }
        if(tabdet.getSelectedIndex()==4){
            Mail.txtcto.setText(txtdrinm.getText());
        }
        Mail.txtnotic.setText(txtnotic.getText());
        Mail.id=id;
        Mail.mailtic=true;
    }//GEN-LAST:event_btnmailActionPerformed

    private void btncreateActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_btncreateActionPerformed
        // TODO add your handling code here:
        opdt();
        optm();
//        if (txtcsomail.getText().equals("")){
//            JOptionPane.showMessageDialog(null, "Cso Mail cannot be empty !! Ticket Cannot be Created", "MAILING",JOptionPane.WARNING_MESSAGE);
//        }else{
            if(cksubmit.isSelected()==true){
                submit=1;
            }else{
                submit=0;
            }            
            if(ckGT.isSelected()==true){
                GT=1;
                curGT=true;
                if(ckgtyes.isSelected()==true){
                    gtyes=1;
                    curGTyes=true;
                }else{
                    gtyes=0;
                    curGTyes=false;
                }
            }else{
                GT=0;
                curGT=false;
                if(raction==true){
                }
            }
            if(ckGS.isSelected()==true){
                GS=1;
                curGS=true;
                if(ckgsyes.isSelected()==true){
                    gsyes=1;
                    curGSyes=true;
                }else{
                    gsyes=0;
                    curGSyes=false;
                }
            }else{
                GS=0;
                curGS=false;
                if(raction==true){
                }
            }
            if(ckSTORING.isSelected()==true){
                STORING=1;
                curSTORING=true;
                if(ckstoringyes.isSelected()==true){
                    storingyes=1;
                    curSTORINGyes=true;
                }else{
                    storingyes=0;
                    curSTORINGyes=false;
                }
            }else{
                STORING=0;
                curSTORING=false;
                if(raction==true){
                }
            }
            if(ckOTHERS.isSelected()==true){
                OTHERS=1;
                curOTHER=true;
                if(ckothersyes.isSelected()==true){
                    othersyes=1;
                    curOTHERyes=true;
                }else{
                    othersyes=0;
                    curOTHERyes=false;
                }
            }else{
                OTHERS=0;
                curOTHER=false;
            }
            if(prevGT!=curGT){//GT
                if(curGT==true){
                    if(curGTyes==true){
                        if(!rnarasi.equals("")){
                            rnarasi=rnarasi + ",";
                        }
                        rnarasi=rnarasi + " set GT Ready";
                    }else{
                        if(!rnarasi.equals("")){
                            rnarasi=rnarasi + ",";
                        }
                        rnarasi=rnarasi + " set GT Waiting";
                    }
                }else{
                    if(!rnarasi.equals("")){
                        rnarasi=rnarasi + ",";
                    }
                    rnarasi=rnarasi + " set GT Cancel";
                }
            }else{
                if(curGT==true){
                    if(curGTyes==true){
                        if(prevGT!=curGT){
                            if(!rnarasi.equals("")){
                                rnarasi=rnarasi + ",";
                            }
                            rnarasi=rnarasi + " set GT Ready";
                        }
                    }else{
                        if(prevGT!=curGT){
                            if(!rnarasi.equals("")){
                                rnarasi=rnarasi + ",";
                            }
                            rnarasi=rnarasi + " set GT Waiting";
                        }
                    }
                }else{
                    if(prevGT!=curGT){
                        if(!rnarasi.equals("")){
                            rnarasi=rnarasi + ",";
                        }
                        rnarasi=rnarasi + " set GT Cancel";
                    }
                }
            }
            if(prevGS!=curGS){//GS
                if(curGS==true){
                    if(curGSyes==true){
                        if(!rnarasi.equals("")){
                            rnarasi=rnarasi + ",";
                        }
                        rnarasi=rnarasi + " set GS Ready";
                    }else{
                        if(!rnarasi.equals("")){
                            rnarasi=rnarasi + ",";
                        }
                        rnarasi=rnarasi + " set GS Waiting";
                    }
                }else{
                    if(!rnarasi.equals("")){
                        rnarasi=rnarasi + ",";
                    }
                    rnarasi=rnarasi + " set GS Cancel";
                }
            }else{
                if(curGS==true){
                    if(curGSyes==true){
                        if(prevGS!=curGS){
                            if(!rnarasi.equals("")){
                                rnarasi=rnarasi + ",";
                            }
                            rnarasi=rnarasi + " set GS Ready";
                        }
                    }else{
                        if(prevGS!=curGS){
                            if(!rnarasi.equals("")){
                                rnarasi=rnarasi + ",";
                            }
                            rnarasi=rnarasi + " set GS Waiting";
                        }
                    }
                }else{
                    if(prevGS!=curGS){
                        if(!rnarasi.equals("")){
                            rnarasi=rnarasi + ",";
                        }
                        rnarasi=rnarasi + " set GS Cancel";
                    }
                }
            }
            if(prevSTORING!=curSTORING){//STORING
                if(curSTORING==true){
                    if(curSTORINGyes==true){
                        if(!rnarasi.equals("")){
                            rnarasi=rnarasi + ",";
                        }
                        rnarasi=rnarasi + " set STORING Ready";
                    }else{
                        if(!rnarasi.equals("")){
                            rnarasi=rnarasi + ",";
                        }
                        rnarasi=rnarasi + " set STORING Waiting";
                    }
                }else{
                    if(!rnarasi.equals("")){
                        rnarasi=rnarasi + ",";
                    }
                    rnarasi=rnarasi + " set STORING Cancel";
                }
            }else{
                if(curSTORING==true){
                    if(curSTORINGyes==true){
                        if(prevSTORING!=curSTORING){
                            if(!rnarasi.equals("")){
                                rnarasi=rnarasi + ",";
                            }
                            rnarasi=rnarasi + " set STORING Ready";
                        }
                    }else{
                        if(prevSTORING!=curSTORING){
                            if(!rnarasi.equals("")){
                                rnarasi=rnarasi + ",";
                            }
                            rnarasi=rnarasi + " set STORING Waiting";
                        }
                    }
                }else{
                    if(prevSTORING!=curSTORING){
                        if(!rnarasi.equals("")){
                            rnarasi=rnarasi + ",";
                        }
                        rnarasi=rnarasi + " set STORING Cancel";
                    }
                }
            }
            if(prevOTHER!=curOTHER){//OTHER
                if(curOTHER==true){
                    if(curOTHERyes==true){
                        if(!rnarasi.equals("")){
                            rnarasi=rnarasi + ",";
                        }
                        rnarasi=rnarasi + " set OTHER Ready";
                    }else{
                        if(!rnarasi.equals("")){
                            rnarasi=rnarasi + ",";
                        }
                        rnarasi=rnarasi + " set OTHER Waiting";
                    }
                }else{
                    if(!rnarasi.equals("")){
                        rnarasi=rnarasi + ",";
                    }
                    rnarasi=rnarasi + " set OTHER Cancel";
                }
            }else{
                if(curOTHER==true){
                    if(curOTHERyes==true){
                        if(prevOTHER!=curOTHER){
                            if(!rnarasi.equals("")){
                                rnarasi=rnarasi + ",";
                            }
                            rnarasi=rnarasi + " set OTHER Ready";
                        }
                    }else{
                        if(prevOTHER!=curOTHER){
                            if(!rnarasi.equals("")){
                                rnarasi=rnarasi + ",";
                            }
                            rnarasi=rnarasi + " set OTHER Waiting";
                        }
                    }
                }else{
                    if(prevOTHER!=curOTHER){
                        if(!rnarasi.equals("")){
                            rnarasi=rnarasi + ",";
                        }
                        rnarasi=rnarasi + " set OTHER Cancel";
                    }
                }
            }
            if (newtic==true){
                System.out.print("\nnewtic=true "+newtic);
                if (inputValid()==true || txtcsomail.getText().equals("")){
                    getTicType();getdept();getcateg();getcatdet();getReArea();
                    usrlvl();mailcc="";
                    try{
                    sql="insert into tickets set _status=0, dept_id='"+deptid+"', dept_cc='"+txtCcDept.getText()+"'"
                            + ", _servicearea='"+txtCaseArea.getText()+"', representative_area_id='"+ReArea+"'"
                            + ", category_id='"+catid+"', category='"+cbcategory.getSelectedItem()+"'"
                            + ", category_detail_id='"+catdetid+"', category_detail='"+cbcatdetail.getSelectedItem()+"'"
                            + ", _type='"+cbTicketType.getSelectedItem()+"', assign_dept='"+deptid+"', _priority='"+cbprior.getSelectedIndex()+"'"
                            + ", sla='"+sla+"'"
                            + ", cust_code='"+txtcuscod.getText()+"', cust_name='"+txtcusnam.getText()+"', cust_address='"+txtcustadd.getText()+"', cust_phone='"+txtcuspho.getText()+"', cust_email='"+txtcusemail.getText()+"'"
                            + ", cust_pic='"+txtcuspic.getText()+"', cust_pic_address='"+txtPicadd.getText()+"', cust_pic_phone='"+txtpicPho.getText()+"'"
                            + ", cust_note='"+txtcustNote.getText()+"', agreement_id='"+AgreeId+"'"
//                            + ", contract_startdate='"+txtcusconst.getText()+"', contract_enddate='"+txtcusconend.getText()+"'"
//                            + ", startdate='"+txtcusconst1.getText()+"', user='"+txtusr.getText()+"'"
//                            + ", user_phone='"+txtusrpho.getText()+"', user_address='"+txtusraddr.getText()+"'"
//                            + ", cso_code='"+txtcsocode.getText()+"', cso_name='"+txtcso.getText()+"'"
//                            + ", cso_phone='"+txtcsopho.getText()+"', cso_mail='"+txtcsomail.getText()+"'"
//                            + ", vehicle_platno='"+cbnoplat.getSelectedItem()+"', vehicle_jenis='"+txtUnitEngine.getText()+"'"
//                            + ", vehicle_type='"+txtUnitChassis.getText()+"', vehicle_tahun='"+txtUnitThn.getText()+"', vehicle_warna='"+txtUnitWarna.getText()+"'"
//                            + ", driver_code='"+cbdriver.getSelectedItem()+"', driver_name='"+txtdrinm.getText()+"'"
//                            + ", driver_phone='"+txtdripho1.getText()+"'"
                            + ", details='"+txtdetails.getText()+"'"
                            + ", note='"+CCanj.lbluser.getText()+"@"+opdt.substring(8,10)+"/"+opdt.substring(5,7)+"/"+opdt.substring(0,4)+" "+optm.replace(':','.')+" : \nCategory : "+cbcategory.getSelectedItem()+"\nDetail Category : "+cbcatdetail.getSelectedItem()+"\n"+txtnote.getText()+"==='"
                            + ", open_date='"+opdt+"', open_time='"+optm+"', open_username='"+CCanj.lbluser.getText()+"'"
                            + ", open_dept='"+Log.deptid+"', _submitted='"+submit+"'";
                    CCanj.jconn.SQLExecute(sql,CCanj.conn);
                    sqlid="select distinct last_insert_id() from tickets";
                    rs=CCanj.jconn.SQLExecuteRS(sqlid, CCanj.conn);
                      while (rs.next()) {
                        id =Integer.parseInt(rs.getString(1));
                      }
                    sql1="insert into ticket_viewer set ticket_id='"+id+"', dept_id='"+Log.deptid+"', _opener=1, _owner=0";
                        Log.jconn.SQLExecute(sql1, Log.conn);
                        if(cbdept.getSelectedIndex()!=-1){
                            getdept();
                            sqlno="update tickets set dept_id='"+deptid+"', assign_dept='"+deptid+"'"
                                    + " where ticket_id='"+id+"'";
                            Log.jconn.SQLExecute(sqlno, Log.conn);
                            sql2="insert into ticket_viewer set ticket_id='"+id+"', dept_id='"+deptid+"', _opener=0, _owner=1";
                            Log.jconn.SQLExecute(sql2, Log.conn);
                        }
                        if(!txtCcDept.getText().equals("<None>")||!txtCcDept.getText().equals("")||txtCcDept.getText().length()<2){
                            int p,index,opener,owner;
                            int coma;
                            boolean ticviw;
                            String nm,tu,dpti=null;
                            tu = txtCcDept.getText();
                            //        coma = tu.
                            index = tu.indexOf(',');
                            System.out.print("\n index = "+index);
                            p = tu.length();
                            while (index != -1) {
                                nm = tu.substring(0, index);
                                tu = tu.substring(index + 1, p);
                                sql2="select dept_id from _department where dept_name='"+nm+"'";
                                rs1=Log.jconn.SQLExecuteRS(sql2, Log.conn);
                                while (rs1.next()) {
                                     dpti=rs1.getString(1);
                                }
                                ticviw=false;
                                sql3="select count(dept_id) from ticket_viewer where dept_id='"+dpti+"' and ticket_id='"+id+"'";
                                rs2=Log.jconn.SQLExecuteRS(sql3, Log.conn);
                                while (rs2.next()) {
                                     ticviw=true;
                                }
                                if(ticviw==false){
                                    opener=0;owner=0;
                                    if(dpti.equals(Log.deptid)){
                                        opener=1;
                                    }
                                    if(cbdept.getSelectedItem().equals(nm)){
                                        owner=1;
                                    }
                                    sql1="insert into ticket_viewer set ticket_id='"+id+"', dept_id='"+dpti+"', _opener='"+opener+"', _owner='"+owner+"'";
                                    Log.jconn.SQLExecute(sql1, Log.conn);
                                    
                                    sql="select pic_email from _representativearea where representative_area='"+cbArea.getSelectedItem()+"' and dept_id='"+dpti+"'";
                                    rs=CCanj.jconn.SQLExecuteRS(sql,CCanj.conn);
                                    while(rs.next()){
                                        mailcc=mailcc+","+rs.getString(1);
                                    }
                                }
                                index = tu.indexOf(',');
                                p = tu.length();
    //                            try {
                                    Thread.sleep(1000);
    //                            } catch (InterruptedException ex) {
    //
    //                            }
                            }
                            System.out.print("\n index setelah while = "+index);
                            if(index==-1){
                                sql2="select dept_id from _department where dept_name='"+tu+"'";
                                rs1=Log.jconn.SQLExecuteRS(sql2, Log.conn);
                                while (rs1.next()) {
                                     dpti=rs1.getString(1);
                                }
                                ticviw=false;
                                sql3="select count(dept_id) from ticket_viewer where dept_id='"+dpti+"' and ticket_id='"+id+"'";
                                rs2=Log.jconn.SQLExecuteRS(sql3, Log.conn);
                                while (rs2.next()) {
                                     ticviw=true;
                                }
                                if(ticviw==false){
                                    opener=0;owner=0;
                                    if(dpti.equals(Log.deptid)){
                                        opener=1;
                                    }
                                    if(cbdept.getSelectedItem().equals(tu)){
                                        owner=1;
                                    }
                                    sql1="insert into ticket_viewer set ticket_id='"+id+"', dept_id='"+dpti+"', _opener='"+opener+"', _owner='"+owner+"'";
                                    Log.jconn.SQLExecute(sql1, Log.conn);
                                }
                            }
                        }
                    if(GT==1||GS==1||STORING==1||OTHERS==1){
                        replacement="update tickets set _gs='"+GS+"', gs_status='"+gsyes+"', _gt='"+GT+"', gt_status='"+gtyes+"' _stroring='"+STORING+"', storing_status='"+storingyes+"', _other='"+OTHERS+"', other_status='"+othersyes+"', " +
                                "r_driverdept='"+txtrdridpt.getText()+"', r_oprdept='"+txtroprdpt.getText()+"', r_cso='"+txtrcso.getText()+"', r_custname='"+txtrcusnm.getText()+"', r_phoneno='"+txtrphoneno.getText()+"', r_address='"+txtraddr.getText()+"', r_orgcar_status='"+cbroristat.getSelectedItem()+"', r_orgcar_plate='"+txtroricarplate.getText()+"', r_replacecar_status='"+cbrrepstat.getSelectedItem()+"', r_replacecar_plate='"+txtrrepcarpalte.getText()+"', r_deliverydate='"+dtrdeliver.getDate()+"', r_deliverytime='"+txtrdelivertime.getText()+"', r_driverphone='"+txtrdripho.getText()+"', r_startdate='"+dtrstart.getDate()+"', r_untildate='"+dtruntil.getDate()+"', r_memo='"+txtrmemo.getText()+"' " +
                                "where ticket_id='"+id+"' ";
                        CCanj.jconn.SQLExecute(replacement, CCanj.conn);
                    }
                    sqlco="select count(*) from tickets where year(open_date)=year(CURRENT_DATE) and month(open_date)=month(CURRENT_DATE) and ticket_id < '"+id+"'";
                    rs1=CCanj.jconn.SQLExecuteRS(sqlco,CCanj.conn);
                    while (rs1.next()) {
                        coun =Integer.parseInt(rs1.getString(1));
                    }
                    coun=coun+1;
                    System.out.print("\nisi no coun = "+coun+"\n");
                    sqlno="update tickets set ticket_no=concat(right(YEAR(CURRENT_DATE),2),lpad(Month(Current_date),2,'0'),lpad(day(Current_date),2,'0'),lpad('"+coun+"',4,'0')) where ticket_id='"+id+"'";
                    CCanj.jconn.SQLExecute(sqlno, CCanj.conn);
                    sqlno1="select ticket_no from tickets where ticket_id = '"+id+"'";
                    rs0=CCanj.jconn.SQLExecuteRS(sqlno1,CCanj.conn);
                    while (rs0.next()) {
                        no1 =Integer.parseInt(rs0.getString(1));
                    }
                    sql2="insert into log_tickets (log_date,log_time,username,user_level,ticket_id,_status,info,ticket_no) values ('"+opdt+"','"+optm+"','"+CCanj.lbluser.getText()+"','"+usrlvl+"','"+id+"',0,'TICKET OPENED \n\n Category : "+cbcategory.getSelectedItem()+"\nDetail Category : "+cbcatdetail.getSelectedItem()+"\n\n"+txtdetails.getText()+" \n\n "+txtnote.getText()+", "+rnarasi+"','"+no1+"')";
                    CCanj.jconn.SQLExecute(sql2,CCanj.conn);
                    if(submit==0){
                        JOptionPane.showMessageDialog(null, "TICKET "+no1+" CREATED", "TICKETING",JOptionPane.WARNING_MESSAGE);                        
                    }else{
                        String mailto="";
                        JOptionPane.showMessageDialog(null, "TICKET "+no1+" SUBMITED", "TICKETING",JOptionPane.WARNING_MESSAGE);
                        CCanj.s = "TICKET|ASSIGN|"+deptid+"|"+no1+"\r\n";CCanj.kirimBroad();
                        sql1="insert into notify (ticket_id,username,_read) (select "+id+",username,0 from user_account where dept_id in ("+deptid+"))";
                        CCanj.jconn.SQLExecute(sql1,CCanj.conn);
                        sqlno1="select ifnull(pic_email,'') from _representativearea where representative_area_id='"+ReArea+"'";
                        rs0=CCanj.jconn.SQLExecuteRS(sqlno1,CCanj.conn);
                        while (rs0.next()) {
                            mailto=rs0.getString(1);
                        }
                        sql1="insert into log_mail "
                                + " (mail_date,mail_time"
                                + ", mail_from, mail_to, mail_cc"
                                + ", mail_subject, mail_text"
                                + ", ticket_id, direction, username, direction_type)"
                                + " values"
                                + " (current_date,current_time"
                                + ", 'careline.tunas@jsm.co.id', '"+mailto+"', '"+mailcc+"'"
//                                + ", 'careline.tunas@jsm.co.id', (select concat((select email_to from _ticketdetailcategory where detail_category_id='"+catdetid+"'),\',\','"+mailto+"'))"
                                + ", '"+txtcusnam.getText()+"#"+cbnoplat.getSelectedItem()+"#"+cbcategory.getSelectedItem()+"#"+cbprior.getSelectedItem()+"#"+no1+"','Details :\n"+txtdetails.getText()+"\n\nSoluiton :\n"+txtlastnote.getText()+" \n\n Action Status : "+rnarasi+"\n\n SUBMITED'"
                                + ", '"+id+"',1, '"+CCanj.lbluser.getText()+"', 'Internal')";
                        CCanj.jconn.SQLExecute(sql1,CCanj.conn);
                        JOptionPane.showMessageDialog(null, "EMAIL SENT", "MAILING",JOptionPane.WARNING_MESSAGE);
                        dispose();
                    }
                        bersih();
                    }catch(Exception e){
                        System.out.println(e);
                    }
                      CCanj.s = "MAIL|OUTBOUND\r\n";CCanj.kirimBroad();
//                            JOptionPane.showMessageDialog(null, "EMAIL SENT", "MAILING",JOptionPane.WARNING_MESSAGE);
                    newtic=false;
                }else{
                    JOptionPane.showMessageDialog(null,"Data Incomplete, Please fill it first , You cannot created ticket");
                }
            }else{
                System.out.print("\nnewtic = false = "+newtic);
                System.out.print("\nsubmit = 0 = "+ submit);
                    getTicType();getdept();getcateg();getcatdet();getReArea();
                    usrlvl();
                    if(ass==-1){
                        ass=Integer.parseInt(deptid);
                    }
                    try{
                        sql="update tickets set dept_id='"+deptid+"' , dept_cc='"+txtCcDept.getText()+"'"
                                + ", _servicearea='"+cbArea.getSelectedItem()+"', representative_area_id='"+ReArea+"'"
                                + ",category_id='"+catid+"', category='"+cbcategory.getSelectedItem()+"' "
                                + ", category_detail_id='"+catdetid+"',category_detail='"+cbcatdetail.getSelectedItem()+"' "
                                + ",_type='"+cbTicketType.getSelectedItem()+"' "
                                + ",assign_dept='"+ass+"' "
                                + ",_priority='"+cbprior.getSelectedIndex()+"' "
                                + ",sla='"+sla+"' "
                                + ", cust_code='"+txtcuscod.getText()+"', cust_name='"+txtcusnam.getText()+"', cust_address='"+txtcustadd.getText()+"', cust_phone='"+txtcuspho.getText()+"', cust_email='"+txtcusemail.getText()+"'"
                                + ", cust_pic='"+txtcuspic.getText()+"', cust_pic_address='"+txtPicadd.getText()+"', cust_pic_phone='"+txtpicPho.getText()+"'"
                                + ", cust_note='"+txtcustNote.getText()+"', agreement_id='"+AgreeId+"'"
//                                + ",cust_name='"+txtcusnam.getText()+"' "
//                                + ",cust_address='"+txtcustadd.getText()+"' ,cust_phone='"+txtcusfax.getText()+"' "
//                                + ",cust_pic='"+txtcuspic.getText()+"' ,user='"+txtusr.getText()+"' "
//                                + ",user_phone='"+txtusrpho.getText()+"' ,cso_name='"+txtcso.getText()+"' "
//                                + ",cso_phone='"+txtcsopho.getText()+"' ,cso_mail='"+txtcsomail.getText()+"' "
//                                + ",vehicle_platno='"+cbnoplat.getSelectedItem()+"' ,vehicle_type='"+txtUnitEngine.getText()+"' "
//                                + ",vehicle_warna='"+txtUnitWarna.getText()+"' ,driver_name='"+cbdriver.getSelectedItem()+"' "
//                                + ",driver_phone='"+txtdrinm.getText()+"' "
                                + ",details='"+txtdetails.getText()+"'" +
                                ",note='"+CCanj.lbluser.getText()+"@"+opdt.substring(8,10)+"/"+opdt.substring(5,7)+"/"+opdt.substring(0,4)+" "+optm.replace(':','.')+" : \n"+txtnote.getText()+"===\n"+txtlastnote.getText()+"'" +
                                ", _submitted='"+submit+"' where ticket_id='"+id+"'";
                        CCanj.jconn.SQLExecute(sql,CCanj.conn);
                        sql3="delete from ticket_viewer where ticket_id='"+id+"' and _opener=0";
                        Log.jconn.SQLExecute(sql,Log.conn);
                        if(GT==1||GS==1||STORING==1||OTHERS==1){
                            replacement="update tickets set _gs='"+GS+"', gs_status='"+gsyes+"', _gt='"+GT+"', gt_status='"+gtyes+"' _stroring='"+STORING+"', storing_status='"+storingyes+"', _other='"+OTHERS+"', other_status='"+othersyes+"', " +
                                    "r_driverdept='"+txtrdridpt.getText()+"', r_oprdept='"+txtroprdpt.getText()+"', r_cso='"+txtrcso.getText()+"', r_custname='"+txtrcusnm.getText()+"', r_phoneno='"+txtrphoneno.getText()+"', r_address='"+txtraddr.getText()+"', r_orgcar_status='"+cbroristat.getSelectedItem()+"', r_orgcar_plate='"+txtroricarplate.getText()+"', r_replacecar_status='"+cbrrepstat.getSelectedItem()+"', r_replacecar_plate='"+txtrrepcarpalte.getText()+"', r_deliverydate='"+dtrdeliver.getDate()+"', r_deliverytime='"+txtrdelivertime.getText()+"', r_driverphone='"+txtrdripho.getText()+"', r_startdate='"+dtrstart.getDate()+"', r_untildate='"+dtruntil.getDate()+"', r_memo='"+txtrmemo.getText()+"' " +
                                    "where ticket_id='"+id+"' ";
                            CCanj.jconn.SQLExecute(replacement, CCanj.conn);
                            sql2="insert into log_tickets (log_date,log_time,username,user_level,ticket_id,info,ticket_no,_status) values ('"+opdt+"','"+optm+"','"+CCanj.lbluser.getText()+"','"+usrlvl+"','"+id+"','"+txtnote.getText()+", "+rnarasi+"','"+txtnotic.getText()+"','"+statuss+"')";
                            CCanj.jconn.SQLExecute(sql2,CCanj.conn);
                        }else{
                            sql2="insert into log_tickets (log_date,log_time,username,user_level,ticket_id,info,ticket_no,_status) values ('"+opdt+"','"+optm+"','"+CCanj.lbluser.getText()+"','"+usrlvl+"','"+id+"','"+txtnote.getText()+"','"+txtnotic.getText()+"','"+statuss+"')";
                            CCanj.jconn.SQLExecute(sql2,CCanj.conn);
                        }
                        if(!txtCcDept.getText().equals("<None>")||!txtCcDept.getText().equals("")){
                                int p,index,opener,owner;
                                int coma;
                                boolean ticviw;
                                String nm,tu,dpti=null;
                                tu = txtCcDept.getText();
                                //        coma = tu.
                                index = tu.indexOf(',');
                                System.out.print("\n index = "+index);
                                p = tu.length();
                                while (index != -1) {
                                    nm = tu.substring(0, index);
                                    tu = tu.substring(index + 1, p);
                                    sql2="select dept_id from _department where dept_name='"+nm+"'";
                                    rs1=Log.jconn.SQLExecuteRS(sql2, Log.conn);
                                    while (rs1.next()) {
                                         dpti=rs1.getString(1);
                                    }
                                    ticviw=false;
                                    sql3="select count(dept_id) from ticket_viewer where dept_id='"+dpti+"' and ticket_id='"+id+"'";
                                    rs2=Log.jconn.SQLExecuteRS(sql3, Log.conn);
                                    while (rs2.next()) {
                                         ticviw=true;
                                    }
                                    if(ticviw==false){
                                        opener=0;owner=0;
                                        if(dpti.equals(Log.deptid)){
                                            opener=1;
                                        }
                                        if(cbdept.getSelectedItem().equals(nm)){
                                            owner=1;
                                        }
                                        sql1="insert into ticket_viewer set ticket_id='"+id+"', dept_id='"+dpti+"', _opener='"+opener+"', _owner='"+owner+"'";
                                        Log.jconn.SQLExecute(sql1, Log.conn);
                                        sql="select pic_email from _representativearea where representative_area='"+cbArea.getSelectedItem()+"' and dept_id='"+dpti+"'";
                                        rs=CCanj.jconn.SQLExecuteRS(sql,CCanj.conn);
                                        while(rs.next()){
                                            mailcc=mailcc+","+rs.getString(1);
                                        }
                                    }
                                    index = tu.indexOf(',');
                                    p = tu.length();
        //                            try {
                                        Thread.sleep(1000);
        //                            } catch (InterruptedException ex) {
        //
        //                            }
                                }
                                System.out.print("\n index setelah while = "+index);
                                if(index==-1){
                                    sql2="select dept_id from _department where dept_name='"+tu+"'";
                                    rs1=Log.jconn.SQLExecuteRS(sql2, Log.conn);
                                    while (rs1.next()) {
                                         dpti=rs1.getString(1);
                                    }
                                    ticviw=false;
                                    sql3="select count(dept_id) from ticket_viewer where dept_id='"+dpti+"' and ticket_id='"+id+"'";
                                    rs2=Log.jconn.SQLExecuteRS(sql3, Log.conn);
                                    while (rs2.next()) {
                                         ticviw=true;
                                    }
                                    if(ticviw==false){
                                        opener=0;owner=0;
                                        if(dpti.equals(Log.deptid)){
                                            opener=1;
                                        }
                                        if(cbdept.getSelectedItem().equals(tu)){
                                            owner=1;
                                        }
                                        sql1="insert into ticket_viewer set ticket_id='"+id+"', dept_id='"+dpti+"', _opener='"+opener+"', _owner='"+owner+"'";
                                        Log.jconn.SQLExecute(sql1, Log.conn);
                                    }
                                }
                            }
                        if(catdetailupadate==true){
                            sql="update tickets set note='"+CCanj.lbluser.getText()+"@"+opdt.substring(8,10)+"/"+opdt.substring(5,7)+"/"+opdt.substring(0,4)+" "+optm.replace(':','.')+" : \nChange Category detail from ("+cbcategory.getSelectedItem()+") to ("+cbcatdetail.getSelectedItem()+")\n"+txtnote.getText()+"===\n"+txtlastnote.getText()+"' where ticket_id='"+id+"' limit 1";
                            CCanj.jconn.SQLExecute(sql,CCanj.conn);
                            sql2="insert into log_tickets (log_date,log_time,username,user_level,ticket_id,info,ticket_no,_status) values ('"+opdt+"','"+optm+"','"+CCanj.lbluser.getText()+"','"+usrlvl+"','"+id+"','Change Category detail from ("+cbcategory.getSelectedItem()+") to ("+cbcatdetail.getSelectedItem()+")','"+txtnotic.getText()+"','"+statuss+"')";
                            CCanj.jconn.SQLExecute(sql2,CCanj.conn);
                        }
                        if (statuss==0 && ass==0){
                            sql3="update tickets set _status=1, process_date='"+opdt+"', process_time='"+optm+"', process_username='"+CCanj.lbluser.getText()+"' where ticket_id='"+id+"' and ticket_no='"+txtnotic.getText()+"'";
                            CCanj.jconn.SQLExecute(sql3,CCanj.conn);
                            statuss=1;
                        }
                        if(submit==1){
                            String mailto="";
                            JOptionPane.showMessageDialog(null, "TICKET "+txtnotic.getText()+" SUBMITED", "TICKETING",JOptionPane.WARNING_MESSAGE);
                            sql1="insert into notify (ticket_id,username,_read) (select "+id+",username,0 from user_account where dept_id in ("+deptid+"))";
                            CCanj.jconn.SQLExecute(sql1,CCanj.conn);
                            sqlno1="select ifnull(pic_email,'') from _representativearea where representative_area_id='"+ReArea+"'";
                            rs0=CCanj.jconn.SQLExecuteRS(sqlno1,CCanj.conn);
                            while (rs0.next()) {
                                mailto=rs0.getString(1);
                            }
                            sql1="insert into log_mail "
                                    + " (mail_date, mail_time"
                                    + ", mail_from, mail_to, mail_cc"
                                    + ", mail_subject, mail_text"
                                    + ", ticket_id, direction, username, direction_type)"
                                    + " values"
                                    + " (current_date,current_time"
//                                    + ", 'careline.tunas@jsm.co.id', (select concat((select email_to from _ticketdetailcategory where detail_category_id=1),\',\','"+mailto+"'))"
                                    + ", 'careline.tunas@jsm.co.id', '"+mailto+"', '"+mailcc+"'"
                                    + ", '"+txtcusnam.getText()+"#"+cbnoplat.getSelectedItem()+"#"+cbcategory.getSelectedItem()+"#"+cbprior.getSelectedItem()+"#"+no1+"','Details :\n"+txtdetails.getText()+"\n\nSoluiton :\n"+txtlastnote.getText()+" \n\n Action Status : "+rnarasi+"\n\n SUBMITED'"
                                    + ", '"+id+"',1, '"+CCanj.lbluser.getText()+"', 'Internal')";
                            CCanj.jconn.SQLExecute(sql1,CCanj.conn);
                            JOptionPane.showMessageDialog(null, "EMAIL SENT", "MAILING",JOptionPane.WARNING_MESSAGE);
                            CCanj.s = "TICKET|ASSIGN|"+deptid+"|"+txtnotic.getText()+"\r\n";
                            CCanj.kirimBroad();
                            dispose();
                        }else{
                            JOptionPane.showMessageDialog(null, "TICKET UPDATED", "TICKETING",JOptionPane.WARNING_MESSAGE);
                            CCanj.s = "TICKET|UPDATE|"+deptid+"|"+txtnotic.getText()+"\r\n";CCanj.kirimBroad();
                        }
                    }catch(Exception e){
                        System.out.println(e);
                    }


                System.out.print("\nsubmit = 1 = "+ submit);

            }//end of validasi newticket
//            dispose();
//        }//end of validasi txtcso

        if(caltic==true){
            Obc.txtnotic1.setText(Integer.toString(no1));
        }
    }//GEN-LAST:event_btncreateActionPerformed

    private void btnclosedActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_btnclosedActionPerformed
        // TODO add your handling code here:
        Closed_tic clo= new Closed_tic();
        clo.setVisible(true);
    }//GEN-LAST:event_btnclosedActionPerformed

    private void btncanc1ActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_btncanc1ActionPerformed
        // TODO add your handling code here:
    }//GEN-LAST:event_btncanc1ActionPerformed

    private void btnsmsActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_btnsmsActionPerformed
        // TODO add your handling code here:
        SMS sms = new SMS();
        sms.setVisible(true);

        if(tabdet.getSelectedIndex()==0){
            Sms.txtto.setText(txtcuspho.getText());
            Sms.cbcust.setSelectedItem(txtcusnam.getText());
        }
        if(tabdet.getSelectedIndex()==1){
            Sms.txtto.setText(txtcsopho.getText());
        }
        if(tabdet.getSelectedIndex()==2){
            Sms.txtto.setText(txtusrpho.getText());
        }
        if(tabdet.getSelectedIndex()==4){
            Sms.txtto.setText(txtdripho1.getText());
        }
        Sms.txtnotic.setText(txtnotic.getText());
        Sms.id=id;
        Sms.smstic=true;
}//GEN-LAST:event_btnsmsActionPerformed

    private void cbdeptActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_cbdeptActionPerformed
        // TODO add your handling code here:
        if(raction==true){
            showReArea();showType();
        }
    }//GEN-LAST:event_cbdeptActionPerformed

    private void txtrphonenoActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_txtrphonenoActionPerformed
        // TODO add your handling code here:
    }//GEN-LAST:event_txtrphonenoActionPerformed

    private void cbroristatActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_cbroristatActionPerformed
        // TODO add your handling code here:
    }//GEN-LAST:event_cbroristatActionPerformed

    private void ckGTActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_ckGTActionPerformed
        // TODO add your handling code here:
        if(ckGT.isSelected()==true){
            tabdet.setEnabledAt(5, true);
            tabdet.setSelectedIndex(5);
            txtrdridpt.requestFocus();
            ckgtyes.setEnabled(true);
        }else{
            tabdet.setEnabledAt(5, false);
            tabdet.setSelectedIndex(0);
            ckgtyes.setEnabled(false);
        }
}//GEN-LAST:event_ckGTActionPerformed

    private void ckGSActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_ckGSActionPerformed
        // TODO add your handling code here:
        if(ckGS.isSelected()==true){
            tabdet.setEnabledAt(5, true);
            tabdet.setSelectedIndex(5);
            txtrdridpt.requestFocus();
            ckgsyes.setEnabled(true);
        }else{
            tabdet.setEnabledAt(5, false);
            tabdet.setSelectedIndex(0);
            ckgsyes.setEnabled(false);
        }
    }//GEN-LAST:event_ckGSActionPerformed

    private void ckSTORINGActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_ckSTORINGActionPerformed
        // TODO add your handling code here:
        if(ckSTORING.isSelected()==true){
            tabdet.setEnabledAt(5, true);
            tabdet.setSelectedIndex(5);
            txtrdridpt.requestFocus();
            ckstoringyes.setEnabled(true);
        }else{
            tabdet.setEnabledAt(5, false);
            tabdet.setSelectedIndex(0);
            ckstoringyes.setEnabled(false);
        }
    }//GEN-LAST:event_ckSTORINGActionPerformed

    private void ckOTHERSActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_ckOTHERSActionPerformed
        // TODO add your handling code here:
        if(ckOTHERS.isSelected()==true){
            tabdet.setEnabledAt(5, true);
            tabdet.setSelectedIndex(5);
            txtrdridpt.requestFocus();
            ckothersyes.setEnabled(true);
        }else{
            tabdet.setEnabledAt(5, false);
            tabdet.setSelectedIndex(0);
            ckothersyes.setEnabled(false);
        }
    }//GEN-LAST:event_ckOTHERSActionPerformed

    public boolean catdetailupadate=false;
    public boolean catfinalupadate=false;
    
    
    private void btnsrchcusActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_btnsrchcusActionPerformed
        // TODO add your handling code here:        
        Search_customer sercus = new Search_customer();
        sercus.setVisible(true);
        sercus.Form=1;
    }//GEN-LAST:event_btnsrchcusActionPerformed

    private void btnCcDeptActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_btnCcDeptActionPerformed
        // TODO add your handling code here:
        if(scpCcList.isShowing()==true){
            scpCcList.setVisible(false);
        }else{
            scpCcList.setVisible(true);
        }
}//GEN-LAST:event_btnCcDeptActionPerformed
String agent,att;
Object sel,sel1;int baris;int conter;
    private void jList1MouseReleased(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_jList1MouseReleased
        // TODO add your handling code here:
        //        countagent=0;
        //        sel=null;
        agent="";
        int[] selectedIx = jList1.getSelectedIndices();
        for (int i=0; i<selectedIx.length; i++) {
            //            countagent++;
            sel = jList1.getModel().getElementAt(selectedIx[i]);
            if(agent.equals("")){
                agent=agent+(String.valueOf(sel));
            }else{
                agent=agent+","+(String.valueOf(sel));
            }
        }
        if(agent.equals("")){
            agent=agent+"<None>";
        }
        txtCcDept.setText(String.valueOf(agent));
}//GEN-LAST:event_jList1MouseReleased

    private void cbTicketTypeActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_cbTicketTypeActionPerformed
        // TODO add your handling code here:
        if(raction1==true){
            showcategory();
        }
    }//GEN-LAST:event_cbTicketTypeActionPerformed

    private void cbcategoryActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_cbcategoryActionPerformed
        // TODO add your handling code here:
        if(raction2==true){
            if(cbdept.getSelectedIndex()!=-1){
                getTicType();getdept();getcateg();
                showCatDet();
            }else{
                JOptionPane.showMessageDialog(null,"Dept. must be choosed");
                cbdept.setSelectedIndex(-1);
            }
        }
    }//GEN-LAST:event_cbcategoryActionPerformed

    private void btnresetActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_btnresetActionPerformed
        // TODO add your handling code here:
        cbArea.setSelectedIndex(-1);        cbTicketType.setSelectedIndex(-1);        cbcatdetail.setSelectedIndex(-1);
        cbcategory.setSelectedIndex(-1);        cbdept.setSelectedIndex(-1);
    }//GEN-LAST:event_btnresetActionPerformed

    private void txtcusnamActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_txtcusnamActionPerformed
        // TODO add your handling code here:
    }//GEN-LAST:event_txtcusnamActionPerformed

    private void txtUnit1MouseEntered(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_txtUnit1MouseEntered
        // TODO add your handling code here:
    }//GEN-LAST:event_txtUnit1MouseEntered

    private void txtthnActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_txtthnActionPerformed
        // TODO add your handling code here:
    }//GEN-LAST:event_txtthnActionPerformed

    private void txtAgr4ActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_txtAgr4ActionPerformed
        // TODO add your handling code here:
    }//GEN-LAST:event_txtAgr4ActionPerformed

    private void txtAgr2CaretUpdate(javax.swing.event.CaretEvent evt) {//GEN-FIRST:event_txtAgr2CaretUpdate
        // TODO add your handling code here:
    }//GEN-LAST:event_txtAgr2CaretUpdate

    private void txtAgr2ActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_txtAgr2ActionPerformed
        // TODO add your handling code here:
    }//GEN-LAST:event_txtAgr2ActionPerformed

    private void txtAgr1CaretUpdate(javax.swing.event.CaretEvent evt) {//GEN-FIRST:event_txtAgr1CaretUpdate
        // TODO add your handling code here:
    }//GEN-LAST:event_txtAgr1CaretUpdate

    private void txtAgr1ActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_txtAgr1ActionPerformed
        // TODO add your handling code here:
    }//GEN-LAST:event_txtAgr1ActionPerformed

    private void txtAgr9ActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_txtAgr9ActionPerformed
        // TODO add your handling code here:
    }//GEN-LAST:event_txtAgr9ActionPerformed

    private void txtAgr7CaretUpdate(javax.swing.event.CaretEvent evt) {//GEN-FIRST:event_txtAgr7CaretUpdate
        // TODO add your handling code here:
    }//GEN-LAST:event_txtAgr7CaretUpdate

    private void txtAgr7ActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_txtAgr7ActionPerformed
        // TODO add your handling code here:
    }//GEN-LAST:event_txtAgr7ActionPerformed

    private void txtAgr5ActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_txtAgr5ActionPerformed
        // TODO add your handling code here:
    }//GEN-LAST:event_txtAgr5ActionPerformed

    private void txtUnit5ActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_txtUnit5ActionPerformed
        // TODO add your handling code here:
    }//GEN-LAST:event_txtUnit5ActionPerformed

    private void txtUnit6ActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_txtUnit6ActionPerformed
        // TODO add your handling code here:
    }//GEN-LAST:event_txtUnit6ActionPerformed


     private boolean inputValid(){
        boolean result;
        if((cbcategory.getSelectedItem().equals("NON CUSTOMER"))||(txtusr.getText().equals(""))){
            result=true;
        }else{
            if((cbcategory.getSelectedItem().equals("--"))||(cbdept.getSelectedItem().equals("--"))||(txtusr.getText().equals(""))/*||(txtusrpho.getText().equals(""))*/||(txtcusnam.getText().equals(""))||(txtcsomail.getText().equals(""))){
                JOptionPane.showMessageDialog(null,"Fill data first");
                result=false;
            }else
                result=true;
            }
        return result;
    }
    /**
    * @param args the command line arguments
    */
    public static void main(String args[]) {
        java.awt.EventQueue.invokeLater(new Runnable() {
            public void run() {
                new ticket().setVisible(true);
            }
        });
    }

    // Variables declaration - do not modify//GEN-BEGIN:variables
    private javax.swing.JButton btnCcDept;
    public static javax.swing.JButton btncall;
    private javax.swing.JButton btncanc;
    private javax.swing.JButton btncanc1;
    public static javax.swing.JButton btnclosed;
    public static javax.swing.JButton btncreate;
    public static javax.swing.JButton btnfax;
    private javax.swing.JButton btnhist;
    private javax.swing.JButton btnhist1;
    public static javax.swing.JButton btnmail;
    private javax.swing.JButton btnreset;
    public static javax.swing.JButton btnsms;
    private javax.swing.JButton btnsrchcus;
    public static javax.swing.JComboBox cbArea;
    public static javax.swing.JComboBox cbTicketType;
    public static javax.swing.JComboBox cbcatdetail;
    public static javax.swing.JComboBox cbcategory;
    public static javax.swing.JComboBox cbdept;
    public static javax.swing.JComboBox cbdriver;
    public static javax.swing.JComboBox cbnoplat;
    public static javax.swing.JComboBox cbprior;
    public static javax.swing.JComboBox cbroristat;
    public static javax.swing.JComboBox cbrrepstat;
    public static javax.swing.JCheckBox ckGS;
    public static javax.swing.JCheckBox ckGT;
    public static javax.swing.JCheckBox ckOTHERS;
    public static javax.swing.JCheckBox ckSTORING;
    public static javax.swing.JCheckBox ckgsyes;
    public static javax.swing.JCheckBox ckgtyes;
    public static javax.swing.JCheckBox ckothersyes;
    public static javax.swing.JCheckBox ckstoringyes;
    public static javax.swing.JCheckBox cksubmit;
    public static com.toedter.calendar.JDateChooser dtrdeliver;
    public static com.toedter.calendar.JDateChooser dtrstart;
    public static com.toedter.calendar.JDateChooser dtruntil;
    private javax.swing.JTabbedPane hiddenTab;
    private javax.swing.JLabel jLabel1;
    private javax.swing.JLabel jLabel10;
    private javax.swing.JLabel jLabel11;
    private javax.swing.JLabel jLabel12;
    private javax.swing.JLabel jLabel13;
    private javax.swing.JLabel jLabel14;
    private javax.swing.JLabel jLabel15;
    private javax.swing.JLabel jLabel16;
    private javax.swing.JLabel jLabel17;
    private javax.swing.JLabel jLabel18;
    private javax.swing.JLabel jLabel19;
    private javax.swing.JLabel jLabel2;
    private javax.swing.JLabel jLabel20;
    private javax.swing.JLabel jLabel21;
    private javax.swing.JLabel jLabel22;
    private javax.swing.JLabel jLabel23;
    private javax.swing.JLabel jLabel24;
    private javax.swing.JLabel jLabel25;
    private javax.swing.JLabel jLabel26;
    private javax.swing.JLabel jLabel27;
    private javax.swing.JLabel jLabel28;
    private javax.swing.JLabel jLabel29;
    private javax.swing.JLabel jLabel3;
    private javax.swing.JLabel jLabel30;
    private javax.swing.JLabel jLabel31;
    private javax.swing.JLabel jLabel32;
    private javax.swing.JLabel jLabel33;
    private javax.swing.JLabel jLabel34;
    private javax.swing.JLabel jLabel35;
    private javax.swing.JLabel jLabel36;
    private javax.swing.JLabel jLabel37;
    private javax.swing.JLabel jLabel38;
    private javax.swing.JLabel jLabel39;
    private javax.swing.JLabel jLabel4;
    private javax.swing.JLabel jLabel40;
    private javax.swing.JLabel jLabel41;
    private javax.swing.JLabel jLabel42;
    private javax.swing.JLabel jLabel43;
    private javax.swing.JLabel jLabel44;
    private javax.swing.JLabel jLabel45;
    private javax.swing.JLabel jLabel46;
    private javax.swing.JLabel jLabel47;
    private javax.swing.JLabel jLabel48;
    private javax.swing.JLabel jLabel49;
    private javax.swing.JLabel jLabel5;
    private javax.swing.JLabel jLabel50;
    private javax.swing.JLabel jLabel51;
    private javax.swing.JLabel jLabel52;
    private javax.swing.JLabel jLabel53;
    private javax.swing.JLabel jLabel54;
    private javax.swing.JLabel jLabel55;
    private javax.swing.JLabel jLabel56;
    private javax.swing.JLabel jLabel57;
    private javax.swing.JLabel jLabel58;
    private javax.swing.JLabel jLabel59;
    private javax.swing.JLabel jLabel6;
    private javax.swing.JLabel jLabel60;
    private javax.swing.JLabel jLabel61;
    private javax.swing.JLabel jLabel62;
    private javax.swing.JLabel jLabel63;
    private javax.swing.JLabel jLabel64;
    private javax.swing.JLabel jLabel65;
    private javax.swing.JLabel jLabel66;
    private javax.swing.JLabel jLabel67;
    private javax.swing.JLabel jLabel68;
    private javax.swing.JLabel jLabel69;
    private javax.swing.JLabel jLabel7;
    private javax.swing.JLabel jLabel70;
    private javax.swing.JLabel jLabel71;
    private javax.swing.JLabel jLabel72;
    private javax.swing.JLabel jLabel73;
    private javax.swing.JLabel jLabel74;
    private javax.swing.JLabel jLabel75;
    private javax.swing.JLabel jLabel8;
    private javax.swing.JLabel jLabel9;
    public static javax.swing.JList jList1;
    private javax.swing.JPanel jPanel1;
    private javax.swing.JPanel jPanel10;
    private javax.swing.JPanel jPanel11;
    private javax.swing.JPanel jPanel12;
    private javax.swing.JPanel jPanel2;
    private javax.swing.JPanel jPanel4;
    private javax.swing.JPanel jPanel5;
    private javax.swing.JPanel jPanel6;
    private javax.swing.JPanel jPanel7;
    private javax.swing.JPanel jPanel8;
    private javax.swing.JPanel jPanel9;
    private javax.swing.JScrollPane jScrollPane1;
    private javax.swing.JScrollPane jScrollPane10;
    private javax.swing.JScrollPane jScrollPane11;
    private javax.swing.JScrollPane jScrollPane12;
    private javax.swing.JScrollPane jScrollPane13;
    private javax.swing.JScrollPane jScrollPane2;
    private javax.swing.JScrollPane jScrollPane3;
    private javax.swing.JScrollPane jScrollPane4;
    private javax.swing.JScrollPane jScrollPane5;
    private javax.swing.JScrollPane jScrollPane6;
    private javax.swing.JScrollPane jScrollPane7;
    private javax.swing.JScrollPane jScrollPane8;
    private javax.swing.JScrollPane jScrollPane9;
    private javax.swing.JPanel pnlRep;
    private javax.swing.JPanel pnluser;
    private javax.swing.JScrollPane scpCcList;
    public static javax.swing.JTabbedPane tabdet;
    public static javax.swing.JTextField txtAgr1;
    public static javax.swing.JTextField txtAgr10;
    public static javax.swing.JTextField txtAgr11;
    public static javax.swing.JTextField txtAgr2;
    public static javax.swing.JTextField txtAgr3;
    public static javax.swing.JTextField txtAgr4;
    public static javax.swing.JTextField txtAgr5;
    public static javax.swing.JTextField txtAgr6;
    public static javax.swing.JTextField txtAgr7;
    public static javax.swing.JTextField txtAgr8;
    public static javax.swing.JTextField txtAgr9;
    public static javax.swing.JTextField txtCaseArea;
    public static javax.swing.JTextField txtCcDept;
    public static javax.swing.JTextField txtCro1;
    public static javax.swing.JTextField txtDriCode;
    public static javax.swing.JTextArea txtPicadd;
    public static javax.swing.JTextField txtUnit1;
    public static javax.swing.JTextField txtUnit2;
    public static javax.swing.JTextField txtUnit3;
    public static javax.swing.JTextField txtUnit4;
    public static javax.swing.JTextField txtUnit5;
    public static javax.swing.JTextField txtUnit6;
    public static javax.swing.JTextField txtUnit7;
    public static javax.swing.JTextField txtUnit8;
    public static javax.swing.JTextField txtcontract;
    public static javax.swing.JTextField txtcso;
    public static javax.swing.JTextField txtcsobranch;
    public static javax.swing.JTextField txtcsomail;
    public static javax.swing.JTextField txtcsopho;
    public static javax.swing.JTextField txtcsopho1;
    public static javax.swing.JTextField txtcuscod;
    public static javax.swing.JTextField txtcusconend;
    public static javax.swing.JTextField txtcusconst;
    public static javax.swing.JTextField txtcusconst1;
    public static javax.swing.JTextField txtcusemail;
    public static javax.swing.JTextField txtcusfax;
    public static javax.swing.JTextField txtcusnam;
    public static javax.swing.JTextField txtcuspho;
    public static javax.swing.JTextField txtcuspic;
    public static javax.swing.JTextArea txtcustNote;
    public static javax.swing.JTextArea txtcustadd;
    public static javax.swing.JTextArea txtdetails;
    public static javax.swing.JTextField txtdrinm;
    public static javax.swing.JTextField txtdripho1;
    public static javax.swing.JTextArea txtinfo;
    public static javax.swing.JTextArea txtlastnote;
    public static javax.swing.JTextArea txtnote;
    public static javax.swing.JTextField txtnotic;
    public static javax.swing.JTextField txtpicPho;
    public static javax.swing.JTextArea txtques;
    public static javax.swing.JTextArea txtraddr;
    public static javax.swing.JTextField txtrcontact;
    public static javax.swing.JTextField txtrcso;
    public static javax.swing.JTextField txtrcusnm;
    public static javax.swing.JFormattedTextField txtrdelivertime;
    public static javax.swing.JTextField txtrdridpt;
    public static javax.swing.JTextField txtrdripho;
    public static javax.swing.JTextArea txtrmemo;
    public static javax.swing.JTextField txtroprdpt;
    public static javax.swing.JTextField txtroricarplate;
    public static javax.swing.JTextField txtrphoneno;
    public static javax.swing.JTextField txtrrepcarpalte;
    public static javax.swing.JTextField txtusr;
    public static javax.swing.JTextArea txtusraddr;
    public static javax.swing.JTextField txtusrpho;
    // End of variables declaration//GEN-END:variables

    public static String sql;
    public static String sql1;
    public static String sql2;
    public static String sql3;
    public static String sqlid;
    public static String sqlco;
    public static String sqlno;
    public static String sqlno1;
    public static ResultSet rs0;
    public static ResultSet rs;
    public static ResultSet rs1,rs2;
//    public static JavaConnector jconn=new JavaConnector();
//    public static Connection conn;
    public static String ticid;

    public static void klik(){
        raction=false;raction1=false;raction2=false;raction3=false;
        if ((id==0)){
            System.out.println("ififififif");
            System.out.println(id);
        }else{
            try{
                cbnoplat.removeAllItems();
                cbdriver.removeAllItems();
                sql="select *, x.representative_area as rearea from tickets "
                        + " left join _department d on tickets.dept_id=d.dept_id"
                        + " left join _representativearea x on tickets.representative_area_id=x.representative_area_id"
                        + " where ticket_id='"+id+"' ";
                rs0=CCanj.jconn.SQLExecuteRS(sql,CCanj.conn);
    //                 System.out.println(sql);
                while(rs0.next()){
    //                txtnotic.setText(rs.getString(1));
                    cbArea.setSelectedItem(rs0.getString("rearea"));
                    txtCaseArea.setText(rs0.getString("_servicearea"));
                    cbcategory.setSelectedItem(rs0.getString("category"));
                    cbcatdetail.setSelectedItem(rs0.getString("category_detail"));
                    cbTicketType.setSelectedItem(rs0.getString("_type"));
                    cbprior.setSelectedIndex(Integer.parseInt(rs0.getString("_priority")));
                    if(rs0.getString("dept_name")!=null){
                        cbdept.setSelectedItem(rs0.getString("dept_name"));
                        strDepartment=rs0.getString("dept_name");
                    }
                    txtCcDept.setText(rs0.getString("dept_cc"));
                    if(rs0.getString("assign_dept")!=null){
                        ass=Integer.parseInt(rs0.getString("assign_dept"));
                    }
                    AgreeId=(String)rs0.getString("agreement_id");
                    txtcuscod.setText(rs0.getString("cust_code"));
                    txtcusnam.setText(rs0.getString("cust_name"));
                    txtcustadd.setText(rs0.getString("cust_address"));
                    txtcuspho.setText(rs0.getString("cust_phone"));
                    txtcusemail.setText(rs0.getString("cust_email"));
                    txtcuspic.setText(rs0.getString("cust_pic"));                    
                    txtPicadd.setText(rs0.getString("cust_pic_address"));
                    txtpicPho.setText(rs0.getString("cust_pic_phone"));
                    txtcustNote.setText(rs0.getString("cust_note"));
                    
//                    txtusr.setText(rs0.getString("user"));
//                    txtusrpho.setText(rs0.getString("user_phone"));
//                    txtusraddr.setText(rs0.getString("user_address"));
//                    cbnoplat.addItem(rs0.getString("vehicle_platno"));
//                    txtUnit4.setText(rs0.getString("vehicle_jenis"));
//                    txtUnit3.setText(rs0.getString("vehicle_type"));
//                    txtUnit7.setText(rs0.getString("vehicle_warna"));
//                    txtUnit6.setText(rs0.getString("vehicle_tahun"));
//                    cbdriver.addItem(rs0.getString("driver_code"));
//                    txtdrinm.setText(rs0.getString("driver_name"));
//                    txtdripho1.setText(rs0.getString("driver_phone"));
//                    txtcuscod.setText(rs0.getString("cust_code"));
//                    txtcusnam.setText(rs0.getString("cust_name"));
//                    txtcusfax.setText(rs0.getString("cust_fax"));
//                    txtcuspho.setText(rs0.getString("cust_phone"));
//                    txtcuspic.setText(rs0.getString("cust_pic"));
//                    txtcontract.setText(rs0.getString("contract_no"));
//                    txtcusconst.setText(rs0.getString("contract_startdate"));
//                    txtcusconst1.setText(rs0.getString("startdate"));
//                    txtcusconend.setText(rs0.getString("contract_enddate"));
//                    txtcustadd.setText(rs0.getString("cust_address"));
//                    txtCro1.setText(rs0.getString("cso_code"));
//                    txtcso.setText(rs0.getString("cso_name"));
//                    txtcsopho.setText(rs0.getString("cso_phone"));
//                    txtcsomail.setText(rs0.getString("cso_mail"));    
                    txtdetails.setText(rs0.getString("details"));
                    submit=Integer.parseInt(rs0.getString("_submitted"));
    //                txtlastnote.setText(rs0.getString("solution"));
                    statuss=Integer.parseInt(rs0.getString("_status"));
                    GS=Integer.parseInt(rs0.getString("_gs"));
                    gsyes=Integer.parseInt(rs0.getString("gs_status"));
                    GT=Integer.parseInt(rs0.getString("_gt"));
                    gtyes=Integer.parseInt(rs0.getString("gt_status"));
                    STORING=Integer.parseInt(rs0.getString("_storing"));
                    storingyes=Integer.parseInt(rs0.getString("storing_status"));
                    OTHERS=Integer.parseInt(rs0.getString("_other"));
                    othersyes=Integer.parseInt(rs0.getString("other_status"));
//                    txtrdridpt.setText(rs0.getString("r_driverdept"));
//                    txtroprdpt.setText(rs0.getString("r_oprdept"));
//                    txtrcso.setText(rs0.getString("r_cso"));
//                    txtrcusnm.setText(rs0.getString("r_custname"));
//                    txtrcontact.setText(rs0.getString("r_contact"));
//                    txtrphoneno.setText(rs0.getString("r_phoneno"));
//                    txtraddr.setText(rs0.getString("r_address"));
//                    cbroristat.setSelectedItem(rs0.getString("r_orgcar_status"));
//                    txtroricarplate.setText(rs0.getString("r_orgcar_plate"));
//                    cbrrepstat.setSelectedItem(rs0.getString("r_replacecar_status"));
//                    txtrrepcarpalte.setText(rs0.getString("r_replacecar_plate"));
//                    txtrdelivertime.setText(rs0.getString("r_deliverytime"));
//                    txtrdripho.setText(rs0.getString("r_driverphone"));
//                    txtrmemo.setText(rs0.getString("r_memo"));
                    txtlastnote.setText(rs0.getString("note"));
                    note=(String)rs0.getString("note");
//                    if((rs0.getString("r_deliverydate")!=null&&rs0.getString("r_deliverydate").equals(""))||(rs0.getString("r_startdate")!=null&&rs0.getString("r_startdate").equals(""))||(rs0.getString("r_untildate")!=null&&rs0.getString("r_untildate").equals(""))){
//                        SimpleDateFormat sdf = new SimpleDateFormat("dd/MM/yyyy");
//                        dtrdeliver.setDate(sdf.parse(rs0.getString("r_deliverydate")));
//                        dtrstart.setDate(sdf.parse(rs0.getString("r_startdate")));
//                        dtruntil.setDate(sdf.parse(rs0.getString("r_untildate")));
//                    }
//    //            System.out.println("jalan klik 2");
//                    if(txtcsomail.getText().equals("")||txtcsopho.getText().equals("")){
//                        System.out.print("klo mail cso kosong klik 2\n");
//                        sql1 = "select email, phone_no from contact where code='" + txtCro1.getText() + "'";
//                        rs1 = CCanj.jconn.SQLExecuteRS(sql1, CCanj.conn);
//                        System.out.print(sql1);
//                        while (rs1.next()) {
//                            txtcsopho.setText(rs1.getString("phone_no"));
//                            txtcsomail.setText(rs1.getString("email"));
//                        }
//                    }
                }
            }catch(Exception e){
                System.out.println(e);
            }
        }
     if(submit==1){
          cksubmit.setSelected(true);
          cksubmit.setEnabled(false);
          if(cbprior.getSelectedIndex()==0){
              btncreate.setEnabled(true);
              btncreate.setText("Update");
          }else{
              btncreate.setEnabled(false);
              btncreate.setText("Submitted");
          }
          if(ass==0){
              btncreate.setEnabled(true);
              btncreate.setText("Save");
          }
     }else{
          cksubmit.setSelected(false);
          btncreate.setText("Save");
          btnclosed.setEnabled(true);
     }

     if(newtic==false && CCanj.cbdirection.getSelectedItem().equals("OUTBOUND") && CCanj.btnready.getText().equals("Unregis")){
        btncall.setEnabled(true);
        btnfax.setEnabled(true);
        btnmail.setEnabled(true);
        btnsms.setEnabled(true);
     }
             if(GT==1||GS==1||STORING==1||OTHERS==1){
                 raction=true;
                 tabdet.setEnabledAt(5, true);
                 tabdet.setSelectedIndex(5);
                 if(GT==1){
                     ckGT.setSelected(true);
                     prevGT=true;
                     curGT=true;
                     ckgtyes.setEnabled(true);
                     if(ckgtyes.isSelected()==true){
                         prevGTyes=true;
                         curGTyes=true;
                     }else{
                         prevGTyes=false;
                         curGTyes=false;
                     }
                 }else{
                     prevGT=false;
                     curGT=false;
                 }
                 if(GS==1){
                     ckGS.setSelected(true);
                     prevGS=true;
                     curGS=true;
                     ckgsyes.setEnabled(true);
                     if(ckgsyes.isSelected()==true){
                         prevGSyes=true;
                         curGSyes=true;
                     }else{
                         prevGSyes=false;
                         curGSyes=false;
                     }
                 }else{
                     prevGS=false;
                     curGS=false;
                 }
                 if(OTHERS==1){
                     ckOTHERS.setSelected(true);
                     prevOTHER=true;
                     curOTHER=true;
                     ckothersyes.setEnabled(true);
                     if(ckothersyes.isSelected()==true){
                         prevOTHERyes=true;
                         curOTHERyes=true;
                     }else{
                         prevOTHERyes=false;
                         curOTHERyes=false;
                     }
                 }else{
                     prevOTHER=false;
                     curOTHER=false;
                 }
                 if(STORING==1){
                     ckSTORING.setSelected(true);
                     prevSTORING=true;
                     curSTORING=true;
                     ckstoringyes.setEnabled(true);
                     if(ckstoringyes.isSelected()==true){
                         prevSTORINGyes=true;
                         curSTORINGyes=true;
                     }else{
                         prevSTORINGyes=false;
                         curSTORINGyes=false;
                     }
                 }else{
                     prevSTORING=false;
                     curSTORING=false;
                 }
             }
         }
     private void showcategory()    {
         raction2=false;
         try{
             condition="";
             cbcategory.removeAllItems();
             sql="select category_name from _ticketcategory"
                     + " join _tickettype t on _ticketcategory.ticket_type_id=t.code "
                     + " join _department d on _ticketcategory.dept_id=d.dept_id"
                     + " where _ticketcategory._deleted=0 ";
             if(cbTicketType.getSelectedIndex()!=-1&&cbdept.getSelectedIndex()!=-1){
                 condition=" and t.data='"+cbTicketType.getSelectedItem()+"' "
                         + " and d.dept_name='"+cbdept.getSelectedItem()+"' ";
             }
             sql=sql+condition;
             rs=CCanj.jconn.SQLExecuteRS(sql,CCanj.conn);
             while(rs.next()){
                 cbcategory.addItem(rs.getString(1));
             }
             cbcategory.setSelectedIndex(-1);
         }catch(Exception e){
              System.out.println(e);
         }
         raction2=true;
    }

     public static void showcus(){
         try{
            cbnoplat.removeAllItems();
            cbdriver.removeAllItems();
//             sql="select * from customer_order where rec_id='"+contid+"' and contract_no='"+txtcontract.getText()+"'";
            sql="select * from agreements"
                    + " left join customers on agreements.customer_code=customers.customer_code"
                    + " left join customer_address on agreements.customer_code=customer_address.customer_code"
                    + " left join units on agreements.unit_code=units.unit_code"
                    + " left join drivers on agreements.driver_code=drivers.driver_code"
                    + " where agreement_id='"+AgreeId+"' group by customers.customer_code";
             rs=CCanj.jconn.SQLExecuteRS(sql,CCanj.conn);
             while(rs.next()){
                txtcusnam.setText(rs.getString("fullname"));
                txtcustadd.setText(rs.getString("alamat"));
                txtcuscod.setText(rs.getString("customer_code"));                
//                txtcuspho.setText(rs.getString("cust_phone"));
                txtAgr1.setText(rs.getString(2));
                txtAgr2.setText(rs.getString(3));
                txtAgr3.setText(rs.getString(4));
                txtAgr4.setText(rs.getString(5));
                txtAgr5.setText(rs.getString(6));
                txtAgr6.setText(rs.getString(7));
                txtAgr7.setText(rs.getString(8));
                txtAgr8.setText(rs.getString(9));
                txtAgr9.setText(rs.getString(10));
                txtAgr10.setText(rs.getString(11));
                txtAgr11.setText(rs.getString(12));
                
                txtUnit1.setText(rs.getString(21));
                txtUnit2.setText(rs.getString(22));
                txtUnit3.setText(rs.getString(23));
                txtUnit4.setText(rs.getString(24));
                txtUnit5.setText(rs.getString(25));
                txtUnit6.setText(rs.getString(26));
                txtUnit7.setText(rs.getString(27));
                txtUnit8.setText(rs.getString(28));
                
                txtDriCode.setText(rs.getString("driver_code"));
                txtdrinm.setText(rs.getString("driver_name"));             
                
                
                
                
//                txtusr.setText(rs.getString("user_name"));
//                txtcusfax.setText(rs.getString("cust_fax"));
//                txtcuspic.setText(rs.getString("pic_name"));
//                txtusrpho.setText(rs.getString("user_phone"));
//                txtusraddr.setText(rs.getString("user_addr"));
//                cbnoplat.addItem(rs.getString("vehicle_platno"));
//                cbnoplat.addItem(rs.getString("gs_vehicle_platno"));
//                txtUnit4.setText(rs.getString("vehicle_jenis"));
//                txtUnit3.setText(rs.getString("vehicle_type"));
//                txtUnit7.setText(rs.getString("vehicle_warna"));
//                txtUnit6.setText(rs.getString("vehicle_tahun"));
//                cbdriver.addItem(rs.getString("driver_code"));
//                cbdriver.addItem(rs.getString("gs_driver_code"));
//                txtdrinm.setText(rs.getString("driver_name"));
//                txtdripho1.setText(rs.getString("driver_phone"));
//                txtcontract.setText(rs.getString("contract_no"));
//                txtcusconst.setText(rs.getString("contract_startdate"));
//                txtcusconst1.setText(rs.getString("startdate"));
//                txtcusconend.setText(rs.getString("contract_enddate"));
//                txtcsocode.setText(rs.getString("cso_code"));
//                txtcso.setText(rs.getString("cso_name"));
//                txtcsopho.setText(rs.getString("cso_phone"));
//                txtcsomail.setText(rs.getString("cso_email"));       
             }
                 if(!txtAgr3.getText().equals("")){
                    System.out.println("cari cro\n");
                    sql1 = "select * from cro"
                            + " join branches on cro.branch_name=branches.branch_name"
                            + " where branch_code='" + txtAgr3.getText().substring(0,3) + "'";
                    rs1 = CCanj.jconn.SQLExecuteRS(sql1, CCanj.conn);
                    System.out.print(sql1);
                    while (rs1.next()) {
                        txtCro1.setText(rs1.getString(2));
                        txtcso.setText(rs1.getString(3));
                        txtcsopho.setText(rs1.getString(4));
                        txtcsomail.setText(rs1.getString(5));
                        txtcsobranch.setText(rs1.getString(6));
                        txtcsopho1.setText(rs1.getString(7));
                    }
                }
         }catch(Exception e){
             System.out.println(e);
         }
     }

     private void showDept(){
         raction=false;
        DefaultListModel listModel = new DefaultListModel();
        jList1.setModel(listModel);
        try{
            cbdept.removeAllItems();
            sql="select dept_name from _department where dept_id!=-1 order by dept_id";
            rs=Log.jconn.SQLExecuteRS(sql,Log.conn);
            while(rs.next()){
                cbdept.addItem(rs.getString(1));
                listModel.addElement(rs.getString(1).toString());
//                cbasdept.addItem(rs.getString(1));
            }
            cbdept.setSelectedIndex(-1);
        }catch(Exception e){
            System.out.println(e);
        }
        raction=true;
    }

     public static void showArea()    {
          try{
              cbArea.removeAllItems();
              sql="select data from _servicearea";
              rs=CCanj.jconn.SQLExecuteRS(sql,CCanj.conn);
              while(rs.next()){
                  cbArea.addItem(rs.getString(1));
              }
              cbArea.setSelectedIndex(-1);
          }catch(Exception e){
              System.out.println(e);
          }
      }

      private void showType(){
          raction1=false;
          condition="";
          cbTicketType.removeAllItems();
          try{
              sql="select _tickettype.data from _ticketcategory "
                      + " join _tickettype on _ticketcategory.ticket_type_id=_tickettype.code ";
              if(cbdept.getSelectedIndex()!=-1){
                  condition=" where _ticketcategory.dept_id="+cbdept.getSelectedIndex()+"";
              }
              sql=sql+condition+" group by _ticketcategory.ticket_type_id";
              rs=CCanj.jconn.SQLExecuteRS(sql,CCanj.conn);
              while(rs.next()){
                  cbTicketType.addItem(rs.getString(1));
              }
              cbTicketType.setSelectedIndex(-1);
          }catch(Exception e){
              System.out.println(e);
          }
          raction1=true;
      }
      private void showReArea(){
          raction3=false;
          condition="";
          cbArea.removeAllItems();
          try{
              sql="select _representativearea.representative_area from _representativearea "
                      + " join _department on _representativearea.dept_id=_department.dept_id ";
              if(cbdept.getSelectedIndex()!=-1){
                  condition=" where _representativearea.dept_id="+cbdept.getSelectedIndex()+"";
              }
              sql=sql+condition+" group by _representativearea.representative_area_id";
              rs=CCanj.jconn.SQLExecuteRS(sql,CCanj.conn);
              while(rs.next()){
                  cbArea.addItem(rs.getString(1));
              }
              cbArea.setSelectedIndex(-1);
          }catch(Exception e){
              System.out.println(e);
          }
          raction3=true;
      }
      private void showCatDet(){
          cbcatdetail.removeAllItems();
          try{
              condition="";
              sql="select detail_category_name from _ticketdetailcategory ";
              if(catid!=null&&!catid.equals("")||cbcategory.getSelectedIndex()!=-1){
                  condition=" where category_id='"+catid+"'";
              }
              sql=sql+condition;
              rs=CCanj.jconn.SQLExecuteRS(sql,CCanj.conn);
              while(rs.next()){
                  cbcatdetail.addItem(rs.getString(1));
              }
              cbcatdetail.setSelectedIndex(-1);
         }catch(Exception e){
             System.out.println(e);
         }
     }
      
      private void showDriver()    {
          cbdriver.removeAllItems();
          try{
              cbdriver.removeAllItems();
              cbdriver.addItem("--");

              sql="select driver_name, driver_phone, gs_driver_name, gs_driver_phone, from customer_order where driver_name is not null GROUP BY driver_name";
              rs=CCanj.jconn.SQLExecuteRS(sql,CCanj.conn);
              while(rs.next()){
                  txtdrinm.setText(rs.getString(1)+rs.getString(3));
                  txtdripho1.setText(rs.getString(2)+rs.getString(3));
              }
          }catch(Exception e){
              System.out.println(e);
          }
      }
//           private void showPriority()
//    {
//         cbprior.removeAllItems();
//        try{
//            cbprior.removeAllItems();
//            cbprior.addItem("--");
//
//            sql="select data from _ticketpriority";
//            rs=jconn.SQLExecuteRS(sql,conn);
//            while(rs.next()){
//                cbprior.addItem(rs.getString(1));
//            }
//        }catch(Exception e){
//            System.out.println(e);
//
//        }
//     }

       private void getdept(){
           try{
               sql="select dept_id from _department where dept_name='"+cbdept.getSelectedItem()+"'";
               rs=CCanj.jconn.SQLExecuteRS(sql,CCanj.conn);
               while(rs.next()){
                   deptid=rs.getString(1);
               }
           }catch(Exception e){
               System.out.print(e);
           }
       }

        private void getcateg(){            
           try{
               sql1="select category_id from _ticketcategory where category_name='"+cbcategory.getSelectedItem()+"' and dept_id='"+deptid+"' and ticket_type_id='"+TicType+"' and _deleted=0";
               rs1=CCanj.jconn.SQLExecuteRS(sql1,CCanj.conn);
               System.out.println("category : "+sql1);
               while(rs1.next()){
                   catid=rs1.getString(1).toString();
               }
           }catch(Exception e){
               System.out.print(e);
           }
       }
        private void getReArea(){
           try{
               sql="select representative_area_id from _representativearea where representative_area='"+cbArea.getSelectedItem()+"' and dept_id='"+deptid+"'";
               rs=CCanj.jconn.SQLExecuteRS(sql,CCanj.conn);
               while(rs.next()){
                   ReArea=rs.getString(1);
               }
           }catch(Exception e){
               System.out.print(e);
           }
       }
        private void getcatdet(){
           try{
               sql="select detail_category_id, sla from _ticketdetailcategory where detail_category_name='"+cbcatdetail.getSelectedItem()+"' and category_id='"+catid+"' ";
               rs=CCanj.jconn.SQLExecuteRS(sql,CCanj.conn);
               System.out.println("category detail : "+sql);
               while(rs.next()){
                   catdetid=rs.getString(1);
                   sla=Integer.parseInt(rs.getString(2));
               }
           }catch(Exception e){
               System.out.print(e);
           }
       }
        private void getTicType(){
           try{
               sql="select code from _tickettype where data='"+cbTicketType.getSelectedItem()+"'";
               rs=CCanj.jconn.SQLExecuteRS(sql,CCanj.conn);
               while(rs.next()){
                   TicType=rs.getString(1);
               }
           }catch(Exception e){
               System.out.print(e);
           }
       }
        private void usrlvl(){
            try{
                sql="select _level from user_account where username='"+CCanj.lbluser.getText()+"'";
                rs=CCanj.jconn.SQLExecuteRS(sql, CCanj.conn);
                while(rs.next()){
                    usrlvl=rs.getString(1);
                }
            }catch(Exception e){
                System.out.print(e);
            }
        }

         

    void bersih(){
        txtnotic.setText("");
        cbcategory.setSelectedItem("--");
        cbprior.setSelectedItem("NORMAL");
        cbdept.setSelectedItem("--");
//                cbasdept.setSelectedItem(rs.getString(5));
        txtusr.setText("");
        txtusrpho.setText("");
        cbnoplat.setSelectedItem("");
        txtUnit4.setText("");
        txtUnit7.setText("");
        cbdriver.setSelectedItem("");
        txtdrinm.setText("");
        txtcusnam.setText("");
        txtcusfax.setText("");
        txtcuspic.setText("");
//                txtpicpho.setText(rs.getString(16));
        txtcso.setText("");
        txtcsopho.setText("");
        txtdetails.setText("");
    }   

    private void opdt(){
          try{
              sql="select CURRENT_DATE";
              rs = CCanj.jconn.SQLExecuteRS(sql, CCanj.conn);
              while(rs.next()){
                  opdt=rs.getString(1);
              }
          }catch(Exception exc){
              System.err.println(exc.getMessage());
          }
    }

        private void optm(){
            try{
              sql="select CURRENT_TIME";
              rs = CCanj.jconn.SQLExecuteRS(sql, CCanj.conn);
              while(rs.next()){
                  optm=rs.getString(1);
              }
          }catch(Exception exc){
              System.err.println(exc.getMessage());
          }
        }

}
